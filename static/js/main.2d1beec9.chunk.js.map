{"version":3,"sources":["components/common/FormsControls/InputProfileInfo.module.css","redux/dialogs-reducer.js","redux/app-reducer.js","components/common/FollowUnfollowButton/FollowUnfollowButton.jsx","api/api.js","components/News/News.module.css","components/Music/Music.module.css","components/Settings/Settings.module.css","components/common/Preloader/Preloader.module.css","components/common/FormsControls/Textarea.module.css","components/Navbar/Navbar.module.css","components/Users/Users.module.css","utils/object-helpers.js","redux/users-reducer.js","redux/auth-reducer.js","reportWebVitals.js","redux/redux-store.js","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Users/User.jsx","components/common/Pagination/Pagination.jsx","components/common/Pagination/PaginationContainer.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Navbar/Navbar.jsx","components/Navbar/NavbarContainer.jsx","components/common/ErrorMessage/ErrorMessage.jsx","components/Sidebar/Sidebar.jsx","components/Sidebar/SidebarContainer.jsx","App.js","index.js","redux/profile-reducer.js","redux/pagination-reducer.js","components/Sidebar/Sidebar.module.css","components/common/FollowUnfollowButton/FollowUnfollowButton.module.css","components/common/Pagination/Pagination.module.css","components/common/Preloader/Preloader.jsx","components/common/FormsControls/FormsControls.js","components/common/ErrorMessage/ErrorMessage.module.css","assets/images/1.png","utils/validators/validators.js","components/common/FormsControls/FormsControls.module.css","components/Header/Header.module.css","components/Login/Login.module.css"],"names":["module","exports","SEND_MESSAGE","SET_SELECTED_USER_ID","SET_FRIENDS","ADD_NEXT_FRIENDS_PAGE_CREATOR","SET_TOTAL_COUNT_FRIENDS","SET_PAGE_FRIENDS","initialState","dialogs","friends","selectedUserId","totalCountFriends","pageSize","pageFriends","sendMessage","userId","message","type","setSelectedUserId","payload","setFriends","setPageFriends","requestFriends","page","dispatch","a","usersAPI","getUsers","response","data","items","totalCount","setGlobalError","addNextFriendsPage","dialogsReducer","state","action","find","i","map","messages","id","length","INITIALIZED_SUCCESS","SET_GLOBAL_ERROR_SUCCESS","initialized","globalError","mainMessage","errorMessage","setGlobalErrorSuccess","initializeApp","promise","getAuthUserData","Promise","all","then","error","status","errorStatus","createMainMessageError","appReducer","connect","followingInProgress","usersPage","isAuth","auth","setFollowed","user","useState","isHidden","setIsisHidden","useEffect","className","cl","hidden","followed","disabled","some","button","follow","onClick","unfollow","instance","axios","create","withCredentials","baseURL","headers","currentPage","isFriends","get","findUser","name","post","delete","authAPI","me","login","email","password","rememberMe","captcha","logout","profileAPI","getProfile","getStatus","setStatus","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","securityAPI","getCaptchaUrl","updateObjectInArray","itemId","objPropName","newOpjProps","SET_FOLLOWED_SUCCESS","SET_USERS","SET_SIDEBAR_FRIENDS","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","TOGGLE_IS_FRIENDS","users","sidebarFriends","isFetching","sidebarSize","setFollowedSuccess","isFollow","setUsers","setSidebarFriends","toggleIsFetching","toggleFollowingProgress","toggleIsFriends","requestUsersFlow","nameOfElements","setFunction","setTotalsCount","requestUsers","requestSidebarFriends","getState","resultCode","profilePage","getUser","fullName","usersReducer","filter","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserData","getCaptchaUrlSuccess","stopSubmit","_error","url","authReducer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","profileReducer","dialogsPage","form","formReducer","app","pagination","paginationReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","News","props","news","Music","music","Settings","settings","User","leftBlock","to","avatar","src","photos","small","userPhoto","alt","rightBlock","Pagination","onShiftPagesLeft","onShiftPagesRight","onPageChanged","pages","beginPage","endPage","scrollPages","numberPage","selectedPage","slice","setCurrentPage","shiftPages","requestFunction","totalCountPage","Math","ceil","pageNumber","push","Users","onAllUsers","onShowFriends","createPage","array","Preloader","friendButton","allUsersButton","showFriends","getFriends","getIsFriends","getIsFetching","Header","header","loginBlock","HeaderContainer","LoginReduxForm","reduxForm","handleSubmit","onSubmit","Field","placeholder","component","Input","validate","required","st","checkbox","Checkbox","htmlFor","formSummeryError","loginBtn","test","Navbar","getUserProfile","nav","links","item","activeClassName","active","NavbarContainer","ErrorMessage","errorBlock","Sidebar","sidebarElements","friend","sidebarFriend","friendName","sidebar","heading","DialogsContainer","React","lazy","ProfileContainer","catchAllUnhandledErrors","reason","addEventListener","removeEventListener","fallback","exact","from","path","UsersContainer","LoginPage","render","ReactDOM","document","getElementById","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","SAVE_PHOTO_SUCCESS","TOGGLE_IS_FETCHING_STATUS","TOGGLE_IS_FETCHING_PROFILE_INFO","SET_USER_SUCCESS","posts","isFetchingStatus","isFetchingProfileInfo","addPostCreator","idUserPage","likesCount","setUserStatusSuccess","toggleIsFetchingStatus","toggleIsFetchingProfileInfo","addPost","file","field","match","newField","toLowerCase","reduce","Object","keys","search","contact","newContact","values","contacts","assign","reject","responseStatus","responseProfile","getUserStatus","responseUser","setUserStatus","SET_CURRENT_PAGE","SET_TOTAL_COUNT","SHIFT_PAGES","lds_roller","FormControl","Element","input","meta","touched","hasError","block","errorField","Textarea","TextareaStyles","InputProfileInfoStyles","CheckboxStyles","InputProfileInfo","createField","validators","value","maxLengthCreator","maxLength"],"mappings":"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","file":"static/js/main.2d1beec9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"InputProfileInfo_block__2_9WD\",\"field\":\"InputProfileInfo_field__2t2br\",\"errorField\":\"InputProfileInfo_errorField__3ecPA\",\"error\":\"InputProfileInfo_error__1cHdL\"};","import { usersAPI } from '../api/api';\r\nimport { setGlobalError } from './app-reducer';\r\n\r\nconst SEND_MESSAGE = 'dialogs/SEND-MESSAGE';\r\nconst SET_SELECTED_USER_ID = 'dialogs/SET_SELECTED_USER_ID';\r\nconst SET_FRIENDS = 'dialogs/SET_FRIENDS';\r\nconst ADD_NEXT_FRIENDS_PAGE_CREATOR = 'dialogs/ADD_NEXT_FRIENDS_PAGE_CREATOR';\r\nconst SET_TOTAL_COUNT_FRIENDS = 'dialogs/SET_TOTAL_COUNT_FRIENDS';\r\nconst SET_PAGE_FRIENDS = 'dialogs/SET_PAGE_FRIENDS';\r\n\r\nconst initialState = {\r\n  dialogs: [],\r\n  friends: [],\r\n  selectedUserId: null,\r\n  totalCountFriends: 0,\r\n  pageSize: 5,\r\n  pageFriends: 2,\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      return {\r\n        ...state,\r\n        dialogs: state.dialogs.find((i) => i.userId === action.userId)\r\n          ? state.dialogs.map((i) => {\r\n              if (i.userId === action.userId)\r\n                return {\r\n                  userId: i.userId,\r\n                  messages: [\r\n                    ...i.messages,\r\n                    { id: i.messages.length, message: action.message },\r\n                  ],\r\n                };\r\n              return i;\r\n            })\r\n          : [\r\n              ...state.dialogs,\r\n              {\r\n                userId: action.userId,\r\n                messages: [{ id: 0, message: action.message }],\r\n              },\r\n            ],\r\n      };\r\n\r\n    case SET_SELECTED_USER_ID:\r\n    case SET_PAGE_FRIENDS:\r\n    case SET_TOTAL_COUNT_FRIENDS:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    case SET_FRIENDS:\r\n      return {\r\n        ...state,\r\n        friends: action.friends,\r\n      };\r\n\r\n    case ADD_NEXT_FRIENDS_PAGE_CREATOR:\r\n      return { ...state, friends: [...state.friends, ...action.friends] };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const sendMessage = (userId, message) => ({\r\n  type: SEND_MESSAGE,\r\n  userId,\r\n  message,\r\n});\r\nexport const setSelectedUserId = (selectedUserId) => ({\r\n  type: SET_SELECTED_USER_ID,\r\n  payload: { selectedUserId },\r\n});\r\nexport const setFriends = (friends) => ({\r\n  type: SET_FRIENDS,\r\n  friends,\r\n});\r\nexport const addNextFriendsPageCreator = (friends) => ({\r\n  type: ADD_NEXT_FRIENDS_PAGE_CREATOR,\r\n  friends,\r\n});\r\nexport const setTotalCountFriends = (totalCountFriends) => ({\r\n  type: SET_TOTAL_COUNT_FRIENDS,\r\n  payload: { totalCountFriends },\r\n});\r\nexport const setPageFriends = (pageFriends) => ({\r\n  type: SET_PAGE_FRIENDS,\r\n  payload: { pageFriends },\r\n});\r\n\r\nexport const requestFriends = (page, pageSize) => async (dispatch) => {\r\n  try {\r\n    const response = await usersAPI.getUsers(page, pageSize, true);\r\n    const friends = response.data.items;\r\n    dispatch(setFriends(friends));\r\n    dispatch(setTotalCountFriends(response.data.totalCount));\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n};\r\n\r\nexport const addNextFriendsPage = (page, pageSize) => async (dispatch) => {\r\n  try {\r\n    const response = await usersAPI.getUsers(page, pageSize, true);\r\n    dispatch(addNextFriendsPageCreator(response.data.items));\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n};\r\n\r\nexport default dialogsReducer;\r\n","import { getAuthUserData } from './auth-reducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'app/INITIALIZED_SUCCESS';\r\nconst SET_GLOBAL_ERROR_SUCCESS = 'app/SET_GLOBAL_ERROR_SUCCESS';\r\n\r\nconst initialState = {\r\n  initialized: false,\r\n  globalError: {\r\n    mainMessage: '',\r\n    errorMessage: '',\r\n  },\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n\r\n    case SET_GLOBAL_ERROR_SUCCESS:\r\n      return {\r\n        ...state,\r\n        globalError: {\r\n          mainMessage: action.mainMessage,\r\n          errorMessage: action.errorMessage,\r\n        },\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const initializedSuccess = () => ({\r\n  type: INITIALIZED_SUCCESS,\r\n});\r\nexport const setGlobalErrorSuccess = (mainMessage, errorMessage) => ({\r\n  type: SET_GLOBAL_ERROR_SUCCESS,\r\n  mainMessage,\r\n  errorMessage,\r\n});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  const promise = dispatch(getAuthUserData());\r\n  Promise.all([promise]).then(() => dispatch(initializedSuccess()));\r\n};\r\n\r\nexport const setGlobalError = (error) => (dispatch) => {\r\n  const createMainMessageError = (errorStatus) => {\r\n    switch (errorStatus) {\r\n      case 400:\r\n        return 'Код 400 - Неверный запрос';\r\n      case 403:\r\n        return 'Код 403 - Ошибка доступа';\r\n      case 500:\r\n        return 'Код 500 - Ошибка сервера';\r\n      case 429:\r\n        return 'Код 429 - Слишком много запросов';\r\n      default:\r\n        return 'Неизвестная ошибка';\r\n    }\r\n  };\r\n  if (!error) {\r\n    dispatch(setGlobalErrorSuccess('', ''));\r\n  } else {\r\n    const status = error.response ? error.response.status : 'Статус отсутсвует';\r\n    dispatch(\r\n      setGlobalErrorSuccess(createMainMessageError(status), error.message),\r\n    );\r\n  }\r\n};\r\n\r\nexport default appReducer;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setFollowed } from '../../../redux/users-reducer';\r\nimport cl from './FollowUnfollowButton.module.css';\r\n\r\nconst Button = ({ user, followingInProgress, setFollowed, isAuth }) => {\r\n  const [isHidden, setIsisHidden] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setIsisHidden(!isAuth);\r\n  }, [isAuth]);\r\n\r\n  return (\r\n    <div className={isHidden ? cl.hidden : ''}>\r\n      {user.followed ? (\r\n        <button\r\n          disabled={followingInProgress.some((id) => id === user.id)}\r\n          className={`${cl.button} ${cl.follow}`}\r\n          onClick={() => {\r\n            setFollowed(user.id, false);\r\n          }}\r\n        >\r\n          Remove\r\n        </button>\r\n      ) : (\r\n        <button\r\n          disabled={followingInProgress.some((id) => id === user.id)}\r\n          className={`${cl.button} ${cl.unfollow}`}\r\n          onClick={() => {\r\n            setFollowed(user.id, true);\r\n          }}\r\n        >\r\n          Add\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    followingInProgress: state.usersPage.followingInProgress,\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { setFollowed })(Button);\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    'API-KEY': 'dad0b652-9325-4c57-b5ef-73ca9d69ba68',\r\n  },\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 4, isFriends = 'false') {\r\n    return instance.get(\r\n      `users?page=${currentPage}&count=${pageSize}&friend=${isFriends}`,\r\n    );\r\n  },\r\n\r\n  findUser(name = '') {\r\n    return instance.get(`users?term=${name}`);\r\n  },\r\n\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`, {});\r\n  },\r\n\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`);\r\n  },\r\n};\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get('auth/me');\r\n  },\r\n  login(email, password, rememberMe = false, captcha) {\r\n    return instance.post('auth/login', {\r\n      email,\r\n      password,\r\n      rememberMe,\r\n      captcha,\r\n    });\r\n  },\r\n  logout() {\r\n    return instance.delete('auth/login');\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/${userId}`);\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/${userId}`);\r\n  },\r\n  setStatus(status) {\r\n    return instance.put('profile/status', { status: status });\r\n  },\r\n  savePhoto(photoFile) {\r\n    const formData = new FormData();\r\n    formData.append('image', photoFile);\r\n    return instance.put('profile/photo', formData, {\r\n      headers: { 'Content-Type': 'multipart/form-data' },\r\n    });\r\n  },\r\n  saveProfile(profile) {\r\n    return instance.put('profile', profile);\r\n  },\r\n};\r\n\r\nexport const securityAPI = {\r\n  getCaptchaUrl() {\r\n    return instance.get('security/get-captcha-url');\r\n  },\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__3b_Ht\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music\":\"Music_music__2ozzY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__1O3ZQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lds_roller\":\"Preloader_lds_roller__36ydK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Textarea_block__2WNfY\",\"field\":\"Textarea_field__1f5kU\",\"errorField\":\"Textarea_errorField__3wnOd\",\"error\":\"Textarea_error__1Ox-_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3tJyT\",\"links\":\"Navbar_links__20KC5\",\"item\":\"Navbar_item__1Uyvu\",\"active\":\"Navbar_active__leOmI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"Users_user__1L9rY\",\"avatar\":\"Users_avatar__245Zb\",\"leftBlock\":\"Users_leftBlock__2mXjK\",\"rightBlock\":\"Users_rightBlock__tpx-n\",\"name\":\"Users_name__RYCWc\",\"status\":\"Users_status__2hB2k\",\"friendButton\":\"Users_friendButton__ehvkF\",\"allUsersButton\":\"Users_allUsersButton__1doSI\",\"showFriends\":\"Users_showFriends__21BCl\"};","export const updateObjectInArray = (\r\n  items,\r\n  itemId,\r\n  objPropName,\r\n  newOpjProps,\r\n) => {\r\n  return items.map((i) => {\r\n    if (i[objPropName] === itemId) {\r\n      return { ...i, ...newOpjProps };\r\n    }\r\n    return i;\r\n  });\r\n};\r\n","import { usersAPI } from '../api/api';\r\nimport { updateObjectInArray } from '../utils/object-helpers';\r\nimport { setGlobalError } from './app-reducer';\r\nimport { setTotalsCount } from './pagination-reducer';\r\nimport { getUser } from './profile-reducer';\r\n\r\nconst SET_FOLLOWED_SUCCESS = 'users/SET_FOLLOWED_SUCCESS';\r\nconst SET_USERS = 'users/SET_USERS';\r\nconst SET_FRIENDS = 'users/SET_FRIENDS';\r\nconst SET_SIDEBAR_FRIENDS = 'users/SET_SIDEBAR_FRIENDS';\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE_IS_FOLLOWING_PROGRESS';\r\nconst TOGGLE_IS_FRIENDS = 'users/TOGGLE_IS_FRIENDS';\r\n\r\nconst initialState = {\r\n  users: [],\r\n  friends: [],\r\n  sidebarFriends: [],\r\n  isFetching: false,\r\n  isFriends: false,\r\n  followingInProgress: [],\r\n  sidebarSize: 5,\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USERS:\r\n    case SET_FRIENDS:\r\n    case SET_SIDEBAR_FRIENDS:\r\n    case TOGGLE_IS_FETCHING:\r\n    case TOGGLE_IS_FRIENDS:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n\r\n    case SET_FOLLOWED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', {\r\n          followed: action.isFollow,\r\n        }),\r\n        friends: updateObjectInArray(state.friends, action.userId, 'id', {\r\n          followed: action.isFollow,\r\n        }),\r\n      };\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : [state.followingInProgress.filter((id) => id !== action.userId)],\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setFollowedSuccess = (userId, isFollow) => ({\r\n  type: SET_FOLLOWED_SUCCESS,\r\n  userId,\r\n  isFollow,\r\n});\r\nexport const setUsers = (users) => ({ type: SET_USERS, payload: { users } });\r\nexport const setFriends = (friends) => ({\r\n  type: SET_FRIENDS,\r\n  payload: { friends },\r\n});\r\nexport const setSidebarFriends = (sidebarFriends) => ({\r\n  type: SET_SIDEBAR_FRIENDS,\r\n  payload: { sidebarFriends },\r\n});\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  payload: { isFetching },\r\n});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\nexport const toggleIsFriends = (isFriends) => ({\r\n  type: TOGGLE_IS_FRIENDS,\r\n  payload: { isFriends },\r\n});\r\n\r\nconst requestUsersFlow = async (\r\n  dispatch,\r\n  page,\r\n  pageSize,\r\n  nameOfElements,\r\n  setFunction,\r\n  isFriends,\r\n  isFetching,\r\n) => {\r\n  try {\r\n    dispatch(toggleIsFetching(isFetching));\r\n    const response = await usersAPI.getUsers(page, pageSize, isFriends);\r\n    dispatch(setFunction(response.data.items));\r\n    dispatch(setTotalsCount(nameOfElements, response.data.totalCount));\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n  dispatch(toggleIsFetching(false));\r\n};\r\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\r\n  requestUsersFlow(dispatch, page, pageSize, 'users', setUsers, false, true);\r\n};\r\nexport const requestFriends = (page, pageSize) => async (dispatch) => {\r\n  requestUsersFlow(dispatch, page, pageSize, 'friends', setFriends, true, true);\r\n};\r\nexport const requestSidebarFriends = (page, pageSize) => async (dispatch) => {\r\n  requestUsersFlow(\r\n    dispatch,\r\n    page,\r\n    pageSize,\r\n    'sidebarFriends',\r\n    setSidebarFriends,\r\n    true,\r\n    false,\r\n  );\r\n};\r\n\r\nexport const setFollowed = (userId, isFollow) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    const response = isFollow\r\n      ? await usersAPI.follow(userId)\r\n      : await usersAPI.unfollow(userId);\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setFollowedSuccess(userId, isFollow));\r\n      requestSidebarFriends(1, 5)(dispatch);\r\n      const profile = getState().profilePage.profile;\r\n      profile && (await getUser(profile.fullName)(dispatch));\r\n    }\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\nexport default usersReducer;\r\n","import { stopSubmit } from 'redux-form';\r\nimport { authAPI, securityAPI } from '../api/api';\r\nimport { setGlobalError } from './app-reducer';\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\nconst initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isFetching: false,\r\n  isAuth: false,\r\n  captchaUrl: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n    case GET_CAPTCHA_URL_SUCCESS:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: {\r\n    userId,\r\n    email,\r\n    login,\r\n    isAuth,\r\n  },\r\n});\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n  type: GET_CAPTCHA_URL_SUCCESS,\r\n  payload: { captchaUrl },\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  try {\r\n    const response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n      const { id, email, login } = response.data.data;\r\n      dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n};\r\n\r\nexport const login = (email, password, rememberMe, captcha = null) => async (\r\n  dispatch,\r\n) => {\r\n  try {\r\n    const response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(getAuthUserData());\r\n    } else {\r\n      if (response.data.resultCode === 10) {\r\n        dispatch(getCaptchaUrl());\r\n      }\r\n      const message =\r\n        response.data.messages.length > 0\r\n          ? response.data.messages[0]\r\n          : 'Some error';\r\n      dispatch(stopSubmit('login', { _error: message }));\r\n    }\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  try {\r\n    const response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n  try {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { applyMiddleware, combineReducers, createStore, compose } from 'redux';\r\nimport authReducer from './auth-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport profileReducer from './profile-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport paginationReducer from './pagination-reducer';\r\nimport thunk from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from './app-reducer';\r\n\r\nconst reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n  pagination: paginationReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n","import cl from './News.module.css';\r\n\r\nconst News = (props) => {\r\n  return <div className={`${cl.news} ${'block'}`}>News</div>;\r\n};\r\n\r\nexport default News;\r\n","import cl from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\n  return <div className={`${cl.music} ${'block'}`}>Music</div>;\r\n};\r\n\r\nexport default Music;\r\n","import cl from './Settings.module.css';\r\n\r\nconst Settings = (props) => {\r\n  return <div className={`${cl.settings} ${'block'}`}>Settings</div>;\r\n};\r\n\r\nexport default Settings;\r\n","import { NavLink } from 'react-router-dom';\r\nimport cl from './Users.module.css';\r\nimport userPhoto from '../../assets/images/1.png';\r\nimport FolloUnfollowButton from '../common/FollowUnfollowButton/FollowUnfollowButton';\r\n\r\nconst User = ({ user }) => (\r\n  <div className={`${cl.user} ${'block'}`} key={user.id}>\r\n    <div className={cl.leftBlock}>\r\n      <div>\r\n        <NavLink to={'/profile/' + user.id}>\r\n          <img\r\n            className={cl.avatar}\r\n            src={user.photos.small != null ? user.photos.small : userPhoto}\r\n            alt=\"ava\"\r\n          />\r\n        </NavLink>\r\n      </div>\r\n      <div>\r\n        <FolloUnfollowButton user={user} />\r\n      </div>\r\n    </div>\r\n    <div className={cl.rightBlock}>\r\n      <NavLink to={'/profile/' + user.id}>\r\n        <div className={cl.name}>{user.name}</div>\r\n        <div className={cl.status}>{user.status}</div>\r\n      </NavLink>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default User;\r\n","import cl from './Pagination.module.css';\r\n\r\nconst Pagination = ({\r\n  onShiftPagesLeft,\r\n  onShiftPagesRight,\r\n  onPageChanged,\r\n  pages,\r\n  currentPage,\r\n  beginPage,\r\n  endPage,\r\n}) => {\r\n  return (\r\n    <div className={cl.scrollPages}>\r\n      <button\r\n        className={`${cl.numberPage}`}\r\n        onClick={() => {\r\n          onShiftPagesLeft();\r\n        }}\r\n      >\r\n        {'< '}\r\n      </button>\r\n      {pages\r\n        .map((page) => (\r\n          <span\r\n            key={page}\r\n            className={`${currentPage === page && cl.selectedPage} ${\r\n              cl.numberPage\r\n            }`}\r\n            onClick={() => {\r\n              onPageChanged(page);\r\n            }}\r\n          >\r\n            {'  '}\r\n            {page}\r\n          </span>\r\n        ))\r\n        .slice(beginPage, endPage)}\r\n      <button\r\n        className={`${cl.numberPage}`}\r\n        onClick={() => {\r\n          onShiftPagesRight();\r\n        }}\r\n      >\r\n        {' >'}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import Pagination from './Pagination';\r\nimport { setCurrentPage, shiftPages } from '../../../redux/pagination-reducer';\r\nimport { connect } from 'react-redux';\r\nimport { useEffect } from 'react';\r\n\r\nconst PaginationContainer = ({\r\n  nameOfElements,\r\n  pageSize,\r\n  requestFunction,\r\n  setCurrentPage,\r\n  shiftPages,\r\n  state,\r\n  isFetching,\r\n}) => {\r\n  const { beginPage, endPage, totalCount, currentPage } = state[nameOfElements];\r\n\r\n  const totalCountPage = Math.ceil(totalCount / pageSize);\r\n\r\n  useEffect(() => {\r\n    requestFunction(currentPage, pageSize);\r\n  }, [currentPage, pageSize, requestFunction]);\r\n\r\n  const onPageChanged = (pageNumber) => {\r\n    setCurrentPage(nameOfElements, pageNumber);\r\n  };\r\n\r\n  const onShiftPagesLeft = () => {\r\n    if (currentPage !== 1) {\r\n      onPageChanged(currentPage - 1);\r\n      if (beginPage !== 0) {\r\n        shiftPages(nameOfElements, beginPage - 1, endPage - 1);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onShiftPagesRight = () => {\r\n    if (currentPage !== totalCountPage) {\r\n      onPageChanged(currentPage + 1);\r\n      if (endPage < totalCountPage) {\r\n        shiftPages(nameOfElements, beginPage + 1, endPage + 1);\r\n      }\r\n    }\r\n  };\r\n\r\n  const pages = [];\r\n  for (let i = 1; i <= totalCountPage; i += 1) {\r\n    pages.push(i);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {' '}\r\n      {!isFetching && (\r\n        <Pagination\r\n          onShiftPagesLeft={onShiftPagesLeft}\r\n          onShiftPagesRight={onShiftPagesRight}\r\n          onPageChanged={onPageChanged}\r\n          pages={pages}\r\n          currentPage={currentPage}\r\n          beginPage={beginPage}\r\n          endPage={endPage}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    state: state.pagination,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  setCurrentPage,\r\n  shiftPages,\r\n})(PaginationContainer);\r\n","import cl from './Users.module.css';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport User from './User';\r\nimport PaginationContainer from '../common/Pagination/PaginationContainer';\r\n\r\nconst Users = ({\r\n  users,\r\n  friends,\r\n  onAllUsers,\r\n  onShowFriends,\r\n  isFetching,\r\n  isFriends,\r\n  requestUsers,\r\n  requestFriends,\r\n}) => {\r\n  const createPage = (array) => {\r\n    return array.map((i) => <User key={i.id} user={i} />);\r\n  };\r\n\r\n  return (\r\n    <div className={`${'block'}`}>\r\n      {isFriends ? (\r\n        <PaginationContainer\r\n          nameOfElements=\"friends\"\r\n          pageSize={4}\r\n          requestFunction={requestFriends}\r\n          isFetching={isFetching}\r\n        />\r\n      ) : (\r\n        <PaginationContainer\r\n          nameOfElements=\"users\"\r\n          pageSize={4}\r\n          requestFunction={requestUsers}\r\n          isFetching={isFetching}\r\n        />\r\n      )}\r\n\r\n      {isFetching ? (\r\n        <Preloader />\r\n      ) : (\r\n        <div>\r\n          {isFriends ? createPage(friends) : createPage(users)}\r\n          <div className={cl.friendButton}>\r\n            {isFriends ? (\r\n              <button className={cl.allUsersButton} onClick={onAllUsers}>\r\n                All Users\r\n              </button>\r\n            ) : (\r\n              <button className={cl.showFriends} onClick={onShowFriends}>\r\n                Show Friends\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","export const getUsers = (state) => {\r\n  return state.usersPage.users;\r\n};\r\n\r\n/* export const getUsersSuperSelector = createSelector(\r\n  getUsers,\r\n  getIsFetching,\r\n  (users, isFetching) => {\r\n    return users.filter((u) => true);\r\n  },\r\n); */\r\n\r\nexport const getFriends = (state) => {\r\n  return state.usersPage.friends;\r\n};\r\n\r\nexport const getIsFriends = (state) => {\r\n  return state.usersPage.isFriends;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n};\r\n","import Users from './Users';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  toggleIsFriends,\r\n  requestUsers,\r\n  requestFriends,\r\n} from '../../redux/users-reducer';\r\nimport {\r\n  getIsFetching,\r\n  getUsers,\r\n  getIsFriends,\r\n  getFriends,\r\n} from '../../redux/users-selectors';\r\n\r\nconst UsersContainer = ({\r\n  isFriends,\r\n  users,\r\n  friends,\r\n  isFetching,\r\n  requestUsers,\r\n  requestFriends,\r\n  toggleIsFriends,\r\n}) => {\r\n  const onAllUsers = () => {\r\n    toggleIsFriends(false);\r\n  };\r\n\r\n  const onShowFriends = () => {\r\n    toggleIsFriends(true);\r\n  };\r\n\r\n  return (\r\n    <Users\r\n      onAllUsers={onAllUsers}\r\n      onShowFriends={onShowFriends}\r\n      isFriends={isFriends}\r\n      users={users}\r\n      friends={friends}\r\n      isFetching={isFetching}\r\n      requestUsers={requestUsers}\r\n      requestFriends={requestFriends}\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    friends: getFriends(state),\r\n    isFetching: getIsFetching(state),\r\n    isFriends: getIsFriends(state),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  requestUsers,\r\n  requestFriends,\r\n  toggleIsFriends,\r\n})(UsersContainer);\r\n","import { NavLink } from 'react-router-dom';\r\nimport cl from './Header.module.css';\r\n\r\nconst Header = ({ isAuth, login, logout }) => {\r\n  return (\r\n    <header className={cl.header}>\r\n      <img\r\n        src=\"https://cdn2.iconfinder.com/data/icons/social-flat-buttons-3/512/tripit-512.png\"\r\n        alt=\"logo\"\r\n      ></img>\r\n      <div className={cl.loginBlock}>\r\n        {isAuth ? (\r\n          <div>\r\n            {login}\r\n            <button className={cl.logout} onClick={logout}>\r\n              Logout\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <NavLink to={'/login'}>Login</NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { logout } from '../../redux/auth-reducer';\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\n\r\nconst HeaderContainer = connect(mapStateToProps, { logout })(Header);\r\n\r\nexport default HeaderContainer;\r\n","import { connect } from 'react-redux';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { Checkbox, Input } from '../common/FormsControls/FormsControls';\r\nimport { login, logout } from '../../redux/auth-reducer';\r\nimport { Redirect } from 'react-router';\r\nimport st from '../common/FormsControls/FormsControls.module.css';\r\nimport cl from './Login.module.css';\r\n\r\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\r\n  return (\r\n    <form className={cl.form} onSubmit={handleSubmit}>\r\n      <div>\r\n        <Field\r\n          placeholder={'Email'}\r\n          name={'email'}\r\n          component={Input}\r\n          validate={[required]}\r\n        />\r\n      </div>\r\n      <div>\r\n        <Field\r\n          placeholder={'Password'}\r\n          name={'password'}\r\n          component={Input}\r\n          type={'password'}\r\n          validate={[required]}\r\n        />\r\n      </div>\r\n      <div className={st.checkbox}>\r\n        <div>\r\n          <Field type={'checkbox'} name={'rememberMe'} component={Checkbox} />\r\n        </div>\r\n        <label htmlFor=\"rememberMe\">remember me</label>\r\n      </div>\r\n      {captchaUrl && <img src={captchaUrl} alt=\"\" />}\r\n      {captchaUrl && (\r\n        <Field\r\n          placeholder={'Symbols from image'}\r\n          name={'captcha'}\r\n          component={Input}\r\n          validate={[required]}\r\n        />\r\n      )}\r\n      {error && (\r\n        <div>\r\n          <div className={st.formSummeryError}>{error}</div>\r\n        </div>\r\n      )}\r\n      <button className={st.loginBtn}>Login</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: 'login',\r\n})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n  if (props.isAuth) {\r\n    return <Redirect to={'/profile/' + props.userId} />;\r\n  }\r\n\r\n  const onSubmit = (formData) => {\r\n    props.login(\r\n      formData.email,\r\n      formData.password,\r\n      formData.rememberMe,\r\n      formData.captcha,\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"block\">\r\n      <div className={cl.form}>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n      </div>\r\n      <div className={cl.test}>\r\n        <h3>Тестовый акаунт</h3>\r\n        <p>\r\n          Email: <strong>free@samuraijs.com</strong>\r\n        </p>\r\n        <p>\r\n          Password: <strong>free</strong>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  userId: state.auth.userId,\r\n  captchaUrl: state.auth.captchaUrl,\r\n});\r\n\r\nexport default connect(mapStateToProps, { login, logout })(Login);\r\n","import { NavLink } from 'react-router-dom';\r\nimport cl from './Navbar.module.css';\r\n\r\nconst Navbar = ({ userId, getUserProfile }) => {\r\n  const onUserProfile = () => getUserProfile(userId);\r\n\r\n  return (\r\n    <nav className={`${cl.nav} ${'block'}`}>\r\n      <div className={cl.links}>\r\n        <div className={cl.item}>\r\n          <NavLink\r\n            to={!userId ? `/login` : `/profile/${userId}`}\r\n            onClick={onUserProfile}\r\n            activeClassName={cl.active}\r\n          >\r\n            My profile\r\n          </NavLink>\r\n        </div>\r\n        <div className={cl.item}>\r\n          <NavLink to=\"/dialogs\" activeClassName={cl.active}>\r\n            Messages\r\n          </NavLink>\r\n        </div>\r\n        <div className={cl.item}>\r\n          <NavLink to=\"/news\" activeClassName={cl.active}>\r\n            News\r\n          </NavLink>\r\n        </div>\r\n        <div className={cl.item}>\r\n          <NavLink to=\"/music\" activeClassName={cl.active}>\r\n            Music\r\n          </NavLink>\r\n        </div>\r\n        <div className={cl.item}>\r\n          <NavLink to=\"/settings\" activeClassName={cl.active}>\r\n            Settings\r\n          </NavLink>\r\n        </div>\r\n        <div className={cl.item}>\r\n          <NavLink to=\"/users\" activeClassName={cl.active}>\r\n            Users\r\n          </NavLink>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import { connect } from 'react-redux';\r\nimport Navbar from './Navbar';\r\nimport { getUserProfile } from '../../redux/profile-reducer';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { userId: state.auth.userId };\r\n};\r\n\r\nconst NavbarContainer = connect(mapStateToProps, { getUserProfile })(Navbar);\r\n\r\nexport default NavbarContainer;\r\n","import st from './ErrorMessage.module.css';\r\n\r\nconst ErrorMessage = ({ globalError, setGlobalError }) => {\r\n  const clearError = () => {\r\n    setGlobalError();\r\n  };\r\n  return (\r\n    <div className={st.errorBlock}>\r\n      <div className={st.mainMessage}>{globalError.mainMessage}</div>\r\n      <div className={st.errorMessage}>({globalError.errorMessage})</div>\r\n      <button className={st.button} onClick={clearError}>\r\n        Ок\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\nexport default ErrorMessage;\r\n","import React from 'react';\r\nimport cl from './Sidebar.module.css';\r\nimport userPhoto from '../../assets/images/1.png';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Sidebar = ({ friends, getUserProfile }) => {\r\n  const sidebarElements = friends.map((friend) => {\r\n    const onUserProfile = () => getUserProfile(friend.id);\r\n    return (\r\n      <NavLink\r\n        key={friend.id}\r\n        to={`/profile/${friend.id}`}\r\n        onClick={onUserProfile}\r\n      >\r\n        <div className={cl.sidebarFriend}>\r\n          <img\r\n            className={cl.avatar}\r\n            src={friend.photos.small || userPhoto}\r\n            alt=\"ava\"\r\n          />\r\n          <div className={cl.friendName}>{friend.name}</div>\r\n        </div>\r\n      </NavLink>\r\n    );\r\n  });\r\n  return (\r\n    <div\r\n      className={`${cl.sidebar} ${'block'} ${\r\n        friends.length === 0 ? cl.hidden : ''\r\n      }`}\r\n    >\r\n      <div className={cl.heading}>Friends</div>\r\n      {sidebarElements}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { requestSidebarFriends } from '../../redux/users-reducer';\r\nimport { getUserProfile } from '../../redux/profile-reducer';\r\nimport Sidebar from './Sidebar';\r\n\r\nconst SidebarContainer = ({\r\n  sidebarSize,\r\n  sidebarFriends,\r\n  getUserProfile,\r\n  requestSidebarFriends,\r\n}) => {\r\n  useEffect(() => {\r\n    requestSidebarFriends(1, sidebarSize);\r\n  }, [sidebarFriends.length, requestSidebarFriends, sidebarSize]);\r\n\r\n  return <Sidebar friends={sidebarFriends} getUserProfile={getUserProfile} />;\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    sidebarFriends: state.usersPage.sidebarFriends,\r\n    sidebarSize: state.usersPage.sidebarSize,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  requestSidebarFriends,\r\n  getUserProfile,\r\n})(SidebarContainer);\r\n","import {\r\n  HashRouter as BrowserRouter,\r\n  Redirect,\r\n  Route,\r\n  Switch,\r\n} from 'react-router-dom';\r\nimport './App.css';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginPage from './components/Login/Login';\r\nimport React, { Suspense, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { initializeApp, setGlobalError } from './redux/app-reducer';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport NavbarContainer from './components/Navbar/NavbarContainer';\r\nimport ErrorMessage from './components/common/ErrorMessage/ErrorMessage';\r\nimport SidebarContainer from './components/Sidebar/SidebarContainer';\r\n\r\nconst DialogsContainer = React.lazy(() =>\r\n  import('./components/Dialogs/DialogsContainer'),\r\n);\r\nconst ProfileContainer = React.lazy(() =>\r\n  import('./components/Profile/ProfileContainer'),\r\n);\r\n\r\nconst App = ({ initialized, globalError, initializeApp, setGlobalError }) => {\r\n  useEffect(() => {\r\n    const catchAllUnhandledErrors = (promise) => {\r\n      setGlobalError('Необработанная ошибка', promise.reason);\r\n    };\r\n    initializeApp();\r\n    window.addEventListener('unhandledrejection', catchAllUnhandledErrors);\r\n    return window.removeEventListener(\r\n      'unhandledrejection',\r\n      catchAllUnhandledErrors,\r\n    );\r\n  }, [initializeApp, setGlobalError]);\r\n\r\n  if (!initialized) {\r\n    return <Preloader />;\r\n  }\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <HeaderContainer />\r\n\r\n      <div className=\"app-wrapper\">\r\n        {globalError.mainMessage && (\r\n          <ErrorMessage\r\n            globalError={globalError}\r\n            setGlobalError={setGlobalError}\r\n          />\r\n        )}\r\n        <div>\r\n          <NavbarContainer />\r\n          <SidebarContainer />\r\n        </div>\r\n        <Suspense fallback={<Preloader />}>\r\n          <Switch>\r\n            <Redirect exact from=\"/\" to=\"/profile\" />\r\n            <Route path=\"/dialogs\" component={DialogsContainer} />\r\n\r\n            <Route path=\"/profile/:userId?\" component={ProfileContainer} />\r\n\r\n            <Route path=\"/news\" component={News} />\r\n\r\n            <Route path=\"/music\" component={Music} />\r\n\r\n            <Route path=\"/settings\" component={Settings} />\r\n\r\n            <Route path=\"/users\" component={UsersContainer} />\r\n\r\n            <Route path=\"/login\" component={LoginPage} />\r\n            <Route\r\n              path=\"*\"\r\n              render={() => <div className=\"block\">404 - PAGE NOT FOUND</div>}\r\n            />\r\n          </Switch>\r\n        </Suspense>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized,\r\n  globalError: state.app.globalError,\r\n  friends: state.usersPage.friends,\r\n});\r\n\r\nexport default connect(mapStateToProps, { initializeApp, setGlobalError })(App);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport store from './redux/redux-store';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import { stopSubmit } from 'redux-form';\r\nimport { profileAPI, usersAPI } from '../api/api';\r\nimport { setGlobalError } from './app-reducer';\r\n\r\nconst ADD_POST = 'profilePage/ADD-POST';\r\nconst SET_USER_PROFILE = 'profilePage/SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'profilePage/SET_USER_STATUS';\r\nconst TOGGLE_IS_FETCHING = 'profilePage/TOGGLE_IS_FETCHING';\r\nconst SAVE_PHOTO_SUCCESS = 'profilePage/SAVE_PHOTO_SUCCESS';\r\nconst TOGGLE_IS_FETCHING_STATUS = 'profilePage/TOGGLE_IS_FETCHING_STATUS';\r\nconst TOGGLE_IS_FETCHING_PROFILE_INFO =\r\n  'profilePage/TOGGLE_IS_FETCHING_PROFILE_INFO';\r\nconst SET_USER_SUCCESS = 'profilePage/SET_USER_SUCCESS';\r\n\r\nconst initialState = {\r\n  posts: [],\r\n  profile: null,\r\n  user: {},\r\n  isFetching: false,\r\n  isFetchingStatus: false,\r\n  isFetchingProfileInfo: false,\r\n  status: '',\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        posts: [\r\n          {\r\n            idUserPage: action.idUserPage,\r\n            message: action.message,\r\n            name: action.name,\r\n            likesCount: action.likesCount,\r\n            id: state.posts.length,\r\n          },\r\n          ...state.posts,\r\n        ],\r\n      };\r\n\r\n    case SET_USER_PROFILE:\r\n    case SET_USER_STATUS:\r\n    case TOGGLE_IS_FETCHING:\r\n    case TOGGLE_IS_FETCHING_STATUS:\r\n    case TOGGLE_IS_FETCHING_PROFILE_INFO:\r\n    case SET_USER_SUCCESS:\r\n      return { ...state, ...action.payload };\r\n\r\n    case SAVE_PHOTO_SUCCESS:\r\n      return { ...state, profile: { ...state.profile, photos: action.photos } };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPostCreator = (idUserPage, message, name, likesCount) => ({\r\n  type: ADD_POST,\r\n  idUserPage,\r\n  message,\r\n  name,\r\n  likesCount,\r\n});\r\nexport const setUserProfile = (profile) => ({\r\n  type: SET_USER_PROFILE,\r\n  payload: { profile },\r\n});\r\nexport const setUserStatusSuccess = (status) => ({\r\n  type: SET_USER_STATUS,\r\n  payload: { status },\r\n});\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  payload: { isFetching },\r\n});\r\nexport const toggleIsFetchingStatus = (isFetchingStatus) => ({\r\n  type: TOGGLE_IS_FETCHING_STATUS,\r\n  payload: { isFetchingStatus },\r\n});\r\nexport const toggleIsFetchingProfileInfo = (isFetchingProfileInfo) => ({\r\n  type: TOGGLE_IS_FETCHING_PROFILE_INFO,\r\n  payload: { isFetchingProfileInfo },\r\n});\r\nexport const savePhotoSuccess = (photos) => ({\r\n  type: SAVE_PHOTO_SUCCESS,\r\n  photos,\r\n});\r\nexport const setUserSuccess = (user) => ({\r\n  type: SET_USER_SUCCESS,\r\n  payload: { user },\r\n});\r\n\r\nexport const addPost = (idUserPage, message, name, likesCount = 0) => (\r\n  dispatch,\r\n) => {\r\n  dispatch(addPostCreator(idUserPage, message, name, likesCount));\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n  try {\r\n    const response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch(toggleIsFetchingProfileInfo(true));\r\n    const userId = getState().auth.userId;\r\n    const response = await profileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n      await dispatch(getUserProfile(userId));\r\n    } else {\r\n      const messages = response.data.messages\r\n        .map((i) => {\r\n          const field = i.match(/(?<=\\()(.*?)(?=\\))/)[0];\r\n          const newField = field[0].toLowerCase() + field.slice(1);\r\n          const error = i.match(/(.*?)(?=\\()/)[0];\r\n          return { [newField]: error };\r\n        })\r\n        .reduce(\r\n          (a, i) => {\r\n            const field = Object.keys(i)[0];\r\n            if (field.search('contacts') !== -1) {\r\n              const contact = field.match(/(?<=>)(.*?)(?=$)/)[0];\r\n              const newContact = contact[0].toLowerCase() + contact.slice(1);\r\n              const error = Object.values(i)[0];\r\n              return { ...a, contacts: { ...a.contacts, [newContact]: error } };\r\n            }\r\n            return Object.assign(a, i);\r\n          },\r\n          { contacts: {} },\r\n        );\r\n      dispatch(stopSubmit('edit-profile', messages));\r\n      return Promise.reject(response.data.messages[0]);\r\n    }\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n  dispatch(toggleIsFetchingProfileInfo(false));\r\n};\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  try {\r\n    dispatch(toggleIsFetching(true));\r\n    const responseStatus = await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatusSuccess(responseStatus.data));\r\n    const responseProfile = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(responseProfile.data));\r\n    await getUser(responseProfile.data.fullName)(dispatch);\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n  dispatch(toggleIsFetching(false));\r\n};\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n  try {\r\n    const response = await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatusSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n};\r\n\r\nexport const getUser = (fullName) => async (dispatch) => {\r\n  const responseUser = await usersAPI.findUser(fullName);\r\n  dispatch(setUserSuccess(responseUser.data.items[0]));\r\n};\r\n\r\nexport const setUserStatus = (status) => async (dispatch) => {\r\n  try {\r\n    dispatch(toggleIsFetchingStatus(true));\r\n    const response = await profileAPI.setStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setUserStatusSuccess(status));\r\n    }\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n  dispatch(toggleIsFetchingStatus(false));\r\n};\r\n\r\nexport default profileReducer;\r\n","const SET_CURRENT_PAGE = 'pagination/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_COUNT = 'pagination/SET_TOTAL_COUNT';\r\nconst SHIFT_PAGES = 'pagination/SHIFT_PAGES';\r\n\r\nconst initialState = {\r\n  users: {\r\n    beginPage: 0,\r\n    endPage: 12,\r\n    totalCount: 0,\r\n    currentPage: 1,\r\n  },\r\n  friends: {\r\n    beginPage: 0,\r\n    endPage: 12,\r\n    totalCount: 0,\r\n    currentPage: 1,\r\n  },\r\n};\r\n\r\nconst paginationReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_CURRENT_PAGE:\r\n    case SET_TOTAL_COUNT:\r\n    case SHIFT_PAGES:\r\n      return {\r\n        ...state,\r\n        [action.nameOfElements]: {\r\n          ...state[action.nameOfElements],\r\n          ...action.payload,\r\n        },\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setCurrentPage = (nameOfElements, currentPage) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  nameOfElements,\r\n  payload: { currentPage },\r\n});\r\nexport const setTotalsCount = (nameOfElements, totalCount) => ({\r\n  type: SET_TOTAL_COUNT,\r\n  nameOfElements,\r\n  payload: { totalCount },\r\n});\r\nexport const shiftPages = (nameOfElements, beginPage, endPage) => ({\r\n  type: SHIFT_PAGES,\r\n  nameOfElements,\r\n  payload: { beginPage, endPage },\r\n});\r\n\r\nexport default paginationReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__37NVi\",\"avatar\":\"Sidebar_avatar__niNtw\",\"sidebarFriend\":\"Sidebar_sidebarFriend__2GBq2\",\"friendName\":\"Sidebar_friendName__2ChZ2\",\"heading\":\"Sidebar_heading__2-UmF\",\"hidden\":\"Sidebar_hidden__1HBYl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"follow\":\"FollowUnfollowButton_follow__3lCoS\",\"unfollow\":\"FollowUnfollowButton_unfollow__3bi9r\",\"button\":\"FollowUnfollowButton_button__1dUTd\",\"hidden\":\"FollowUnfollowButton_hidden__1pMuL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollPages\":\"Pagination_scrollPages__2UahA\",\"numberPage\":\"Pagination_numberPage__PLvK3\",\"selectedPage\":\"Pagination_selectedPage__3FCs0\"};","import cl from './Preloader.module.css';\r\n\r\nconst Preloader = (props) => (\r\n  <div className={cl.lds_roller + ' ' + props.className}>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n  </div>\r\n);\r\nexport default Preloader;\r\n","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport TextareaStyles from './Textarea.module.css';\r\nimport InputProfileInfoStyles from './InputProfileInfo.module.css';\r\nimport CheckboxStyles from './Checkbox.module.css';\r\n\r\nexport const FormControl = (Element, className) => ({\r\n  input,\r\n  meta: { touched, error },\r\n  ...props\r\n}) => {\r\n  const hasError = touched && error;\r\n  return (\r\n    <div className={className.block}>\r\n      <Element\r\n        {...input}\r\n        {...props}\r\n        className={\r\n          className.field + ' ' + (hasError ? className.errorField : '')\r\n        }\r\n      />\r\n      {hasError && <div className={className.error}>{error}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Textarea = FormControl('textarea', TextareaStyles);\r\nexport const Input = FormControl('input', InputProfileInfoStyles);\r\nexport const Checkbox = FormControl('input', CheckboxStyles);\r\nexport const InputProfileInfo = FormControl('input', InputProfileInfoStyles);\r\n\r\nexport const createField = (\r\n  placeholder,\r\n  name,\r\n  validators,\r\n  component,\r\n  props = {},\r\n) => (\r\n  <Field\r\n    placeholder={placeholder}\r\n    name={name}\r\n    validate={validators}\r\n    component={component}\r\n    {...props}\r\n  />\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorBlock\":\"ErrorMessage_errorBlock__3_pNj\",\"button\":\"ErrorMessage_button__1KcLA\",\"mainMessage\":\"ErrorMessage_mainMessage__1Fq-L\",\"errorMessage\":\"ErrorMessage_errorMessage__2IH_k\"};","export default __webpack_public_path__ + \"static/media/1.e36dde25.png\";","export const required = (value) => {\r\n  if (value) return undefined;\r\n  return 'Field is required';\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n  return undefined;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__2OAWu\",\"error\":\"FormsControls_error__CJKw9\",\"formSummeryError\":\"FormsControls_formSummeryError__3xO10\",\"checkbox\":\"FormsControls_checkbox__beWy1\",\"loginBtn\":\"FormsControls_loginBtn__1jXYH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2jC4j\",\"loginBlock\":\"Header_loginBlock__18G30\",\"logout\":\"Header_logout__1gBgl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Login_form__1mEHP\",\"test\":\"Login_test__sNFCp\"};"],"sourceRoot":""}