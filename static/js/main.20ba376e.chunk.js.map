{"version":3,"sources":["components/common/FormsControls/InputProfileInfo.module.css","redux/dialogs-reducer.js","components/common/FollowUnfollowButton/FollowUnfollowButton.jsx","redux/app-reducer.js","api/api.js","components/News/News.module.css","components/Music/Music.module.css","components/Settings/Settings.module.css","components/common/Preloader/Preloader.module.css","components/common/FormsControls/Textarea.module.css","components/Navbar/Navbar.module.css","utils/object-helpers.js","redux/users-reducer.js","components/Users/Users.module.css","redux/profile-reducer.js","redux/auth-reducer.js","reportWebVitals.js","redux/redux-store.js","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Users/User.jsx","components/common/Pagination/Pagination.jsx","components/common/Pagination/PaginationContainer.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Navbar/Navbar.jsx","components/Navbar/NavbarContainer.jsx","components/common/ErrorMessage/ErrorMessage.jsx","components/Sidebar/Sidebar.jsx","components/Sidebar/SidebarContainer.jsx","App.js","index.js","redux/pagination-reducer.js","components/Sidebar/Sidebar.module.css","components/common/FollowUnfollowButton/FollowUnfollowButton.module.css","components/common/Pagination/Pagination.module.css","components/common/Preloader/Preloader.jsx","components/common/FormsControls/FormsControls.js","components/common/ErrorMessage/ErrorMessage.module.css","assets/images/1.png","utils/validators/validators.js","components/common/FormsControls/FormsControls.module.css","components/Header/Header.module.css","components/Login/Login.module.css"],"names":["module","exports","SEND_MESSAGE","SET_SELECTED_USER_ID","SET_FRIENDS","ADD_NEXT_FRIENDS_PAGE_CREATOR","SET_TOTAL_COUNT_FRIENDS","SET_PAGE_FRIENDS","initialState","dialogs","friends","selectedUserId","totalCountFriends","pageSize","pageFriends","sendMessage","userId","message","type","setSelectedUserId","setFriends","setPageFriends","requestFriends","page","dispatch","a","usersAPI","getUsers","response","data","items","totalCount","setGlobalError","addNextFriendsPage","dialogsReducer","state","action","find","i","map","messages","id","length","connect","followingInProgress","usersPage","isAuth","auth","unfollow","follow","user","useState","isHidden","setIsisHidden","useEffect","className","cl","hidden","followed","disabled","some","button","onClick","INITIALIZED_SUCCESS","SET_GLOBAL_ERROR_SUCCESS","initialized","globalError","mainMessage","errorMessage","setGlobalErrorSuccess","initializeApp","promise","getAuthUserData","Promise","all","then","error","status","errorStatus","createMainMessageError","appReducer","instance","axios","create","withCredentials","baseURL","headers","currentPage","isFriends","get","findUser","name","post","delete","authAPI","me","login","email","password","rememberMe","captcha","logout","profileAPI","getProfile","getStatus","setStatus","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","securityAPI","getCaptchaUrl","updateObjectInArray","itemId","objPropName","newOpjProps","FOLLOW","UNFOLLOW","SET_USERS","SET_SIDEBAR_FRIENDS","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","TOGGLE_IS_FRIENDS","users","sidebarFriends","isFetching","sidebarSize","unfollowSuccess","followSuccess","setUsers","payload","setSidebarFriends","toggleIsFetching","toggleFollowingProgress","toggleIsFriends","requestUsersFlow","nameOfElements","setFunction","setTotalsCount","requestUsers","requestSidebarFriends","followUnfollowFlow","apiMethod","actionCreator","getState","getUser","resultCode","profilePage","fullName","bind","usersReducer","filter","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","INITIALIZED_SUCCESS_PROFILE","SAVE_PHOTO_SUCCESS","TOGGLE_IS_FETCHING_STATUS","TOGGLE_IS_FETCHING_PROFILE_INFO","SET_USER_SUCCESS","posts","isFetchingStatus","isFetchingProfileInfo","addPostCreator","idUserPage","likesCount","setUserStatusSuccess","toggleIsFetchingStatus","toggleIsFetchingProfileInfo","addPost","file","photos","getUserProfile","field","match","newField","toLowerCase","slice","reduce","Object","keys","search","contact","newContact","values","contacts","assign","stopSubmit","reject","responseStatus","responseProfile","getUserStatus","responseUser","setUserStatus","profileReducer","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserData","getCaptchaUrlSuccess","_error","url","authReducer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","dialogsPage","form","formReducer","app","pagination","paginationReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","News","props","news","Music","music","Settings","settings","User","leftBlock","to","avatar","src","small","userPhoto","alt","rightBlock","Pagination","onShiftPagesLeft","onShiftPagesRight","onPageChanged","pages","beginPage","endPage","scrollPages","numberPage","selectedPage","setCurrentPage","shiftPages","requestFunction","totalCountPage","Math","ceil","pageNumber","push","Users","onAllUsers","onShowFriends","createPage","array","Preloader","friendButton","allUsersButton","showFriends","getFriends","getIsFriends","getIsFetching","Header","header","loginBlock","HeaderContainer","LoginReduxForm","reduxForm","handleSubmit","onSubmit","Field","placeholder","component","Input","validate","required","st","checkbox","Checkbox","htmlFor","formSummeryError","loginBtn","test","Navbar","nav","links","item","activeClassName","active","NavbarContainer","ErrorMessage","errorBlock","Sidebar","sidebarElements","friend","sidebarFriend","friendName","sidebar","heading","DialogsContainer","React","lazy","ProfileContainer","catchAllUnhandledErrors","reason","addEventListener","removeEventListener","fallback","exact","from","path","UsersContainer","LoginPage","render","ReactDOM","document","getElementById","SET_CURRENT_PAGE","SET_TOTAL_COUNT","SHIFT_PAGES","lds_roller","FormControl","Element","input","meta","touched","hasError","block","errorField","Textarea","TextareaStyles","InputProfileInfoStyles","CheckboxStyles","InputProfileInfo","createField","validators","value","maxLengthCreator","maxLength"],"mappings":"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","file":"static/js/main.20ba376e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"InputProfileInfo_block__2_9WD\",\"field\":\"InputProfileInfo_field__2t2br\",\"errorField\":\"InputProfileInfo_errorField__3ecPA\",\"error\":\"InputProfileInfo_error__1cHdL\"};","import { usersAPI } from '../api/api';\r\nimport { setGlobalError } from './app-reducer';\r\n\r\nconst SEND_MESSAGE = 'dialogs/SEND-MESSAGE';\r\nconst SET_SELECTED_USER_ID = 'dialogs/SET_SELECTED_USER_ID';\r\nconst SET_FRIENDS = 'dialogs/SET_FRIENDS';\r\nconst ADD_NEXT_FRIENDS_PAGE_CREATOR = 'dialogs/ADD_NEXT_FRIENDS_PAGE_CREATOR';\r\nconst SET_TOTAL_COUNT_FRIENDS = 'dialogs/SET_TOTAL_COUNT_FRIENDS';\r\nconst SET_PAGE_FRIENDS = 'dialogs/SET_PAGE_FRIENDS';\r\n\r\nconst initialState = {\r\n  dialogs: [],\r\n  friends: [],\r\n  selectedUserId: null,\r\n  totalCountFriends: 0,\r\n  pageSize: 5,\r\n  pageFriends: 2,\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      return {\r\n        ...state,\r\n        dialogs: state.dialogs.find((i) => i.userId === action.userId)\r\n          ? state.dialogs.map((i) => {\r\n              if (i.userId === action.userId)\r\n                return {\r\n                  userId: i.userId,\r\n                  messages: [\r\n                    ...i.messages,\r\n                    { id: i.messages.length, message: action.message },\r\n                  ],\r\n                };\r\n              return i;\r\n            })\r\n          : [\r\n              ...state.dialogs,\r\n              {\r\n                userId: action.userId,\r\n                messages: [{ id: 0, message: action.message }],\r\n              },\r\n            ],\r\n      };\r\n\r\n    case SET_SELECTED_USER_ID:\r\n      return {\r\n        ...state,\r\n        selectedUserId: action.selectedUserId,\r\n      };\r\n\r\n    case SET_FRIENDS:\r\n      return {\r\n        ...state,\r\n        friends: action.friends,\r\n      };\r\n\r\n    case ADD_NEXT_FRIENDS_PAGE_CREATOR:\r\n      return { ...state, friends: [...state.friends, ...action.friends] };\r\n\r\n    case SET_TOTAL_COUNT_FRIENDS:\r\n      return { ...state, totalCountFriends: action.totalCountFriends };\r\n\r\n    case SET_PAGE_FRIENDS:\r\n      return { ...state, pageFriends: action.pageFriends };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const sendMessage = (userId, message) => ({\r\n  type: SEND_MESSAGE,\r\n  userId,\r\n  message,\r\n});\r\nexport const setSelectedUserId = (selectedUserId) => ({\r\n  type: SET_SELECTED_USER_ID,\r\n  selectedUserId,\r\n});\r\nexport const setFriends = (friends) => ({ type: SET_FRIENDS, friends });\r\nexport const addNextFriendsPageCreator = (friends) => ({\r\n  type: ADD_NEXT_FRIENDS_PAGE_CREATOR,\r\n  friends,\r\n});\r\nexport const setTotalCountFriends = (totalCountFriends) => ({\r\n  type: SET_TOTAL_COUNT_FRIENDS,\r\n  totalCountFriends,\r\n});\r\nexport const setPageFriends = (pageFriends) => ({\r\n  type: SET_PAGE_FRIENDS,\r\n  pageFriends,\r\n});\r\n\r\nexport const requestFriends = (page, pageSize) => async (dispatch) => {\r\n  try {\r\n    const response = await usersAPI.getUsers(page, pageSize, true);\r\n    const friends = response.data.items;\r\n    dispatch(setFriends(friends));\r\n    dispatch(setTotalCountFriends(response.data.totalCount));\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n};\r\n\r\nexport const addNextFriendsPage = (page, pageSize) => async (dispatch) => {\r\n  try {\r\n    const response = await usersAPI.getUsers(page, pageSize, true);\r\n    dispatch(addNextFriendsPageCreator(response.data.items));\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n};\r\n\r\nexport default dialogsReducer;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { follow, unfollow } from '../../../redux/users-reducer';\r\nimport cl from './FollowUnfollowButton.module.css';\r\n\r\nconst Button = ({ user, followingInProgress, follow, unfollow, isAuth }) => {\r\n  const [isHidden, setIsisHidden] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setIsisHidden(!isAuth);\r\n  }, [isAuth]);\r\n\r\n  return (\r\n    <div className={isHidden ? cl.hidden : ''}>\r\n      {user.followed ? (\r\n        <button\r\n          disabled={followingInProgress.some((id) => id === user.id)}\r\n          className={`${cl.button} ${cl.follow}`}\r\n          onClick={() => {\r\n            unfollow(user.id);\r\n          }}\r\n        >\r\n          Follow\r\n        </button>\r\n      ) : (\r\n        <button\r\n          disabled={followingInProgress.some((id) => id === user.id)}\r\n          className={`${cl.button} ${cl.unfollow}`}\r\n          onClick={() => {\r\n            follow(user.id);\r\n          }}\r\n        >\r\n          UnFollow\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    followingInProgress: state.usersPage.followingInProgress,\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { unfollow, follow })(Button);\r\n","import { getAuthUserData } from './auth-reducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\nconst SET_GLOBAL_ERROR_SUCCESS = 'SET_GLOBAL_ERROR_SUCCESS';\r\n\r\nconst initialState = {\r\n  initialized: false,\r\n  globalError: {\r\n    mainMessage: '',\r\n    errorMessage: '',\r\n  },\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n\r\n    case SET_GLOBAL_ERROR_SUCCESS:\r\n      return {\r\n        ...state,\r\n        globalError: {\r\n          mainMessage: action.mainMessage,\r\n          errorMessage: action.errorMessage,\r\n        },\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const initializedSuccess = () => ({\r\n  type: INITIALIZED_SUCCESS,\r\n});\r\nexport const setGlobalErrorSuccess = (mainMessage, errorMessage) => ({\r\n  type: SET_GLOBAL_ERROR_SUCCESS,\r\n  mainMessage,\r\n  errorMessage,\r\n});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  const promise = dispatch(getAuthUserData());\r\n  Promise.all([promise]).then(() => dispatch(initializedSuccess()));\r\n};\r\n\r\nexport const setGlobalError = (error) => (dispatch) => {\r\n  const createMainMessageError = (errorStatus) => {\r\n    switch (errorStatus) {\r\n      case 400:\r\n        return 'Код 400 - Неверный запрос';\r\n      case 403:\r\n        return 'Код 403 - Ошибка доступа';\r\n      case 500:\r\n        return 'Код 500 - Ошибка сервера';\r\n      default:\r\n        return 'Неизвестная ошибка';\r\n    }\r\n  };\r\n  if (!error) {\r\n    dispatch(setGlobalErrorSuccess('', ''));\r\n  } else {\r\n    const status = error.response ? error.response.status : 'Статус отсутсвует';\r\n    dispatch(\r\n      setGlobalErrorSuccess(createMainMessageError(status), error.message),\r\n    );\r\n  }\r\n};\r\n\r\nexport default appReducer;\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    'API-KEY': '4695d1e8-8e53-40ac-9b0b-d9e9d8e53801',\r\n  },\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 4, isFriends = 'false') {\r\n    return instance.get(\r\n      `users?page=${currentPage}&count=${pageSize}&friend=${isFriends}`,\r\n    );\r\n  },\r\n\r\n  findUser(name = '') {\r\n    return instance.get(`users?term=${name}`);\r\n  },\r\n\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`, {});\r\n  },\r\n\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`);\r\n  },\r\n};\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get('auth/me');\r\n  },\r\n  login(email, password, rememberMe = false, captcha) {\r\n    return instance.post('auth/login', {\r\n      email,\r\n      password,\r\n      rememberMe,\r\n      captcha,\r\n    });\r\n  },\r\n  logout() {\r\n    return instance.delete('auth/login');\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/${userId}`);\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/${userId}`);\r\n  },\r\n  setStatus(status) {\r\n    return instance.put('profile/status', { status: status });\r\n  },\r\n  savePhoto(photoFile) {\r\n    const formData = new FormData();\r\n    formData.append('image', photoFile);\r\n    return instance.put('profile/photo', formData, {\r\n      headers: { 'Content-Type': 'multipart/form-data' },\r\n    });\r\n  },\r\n  saveProfile(profile) {\r\n    return instance.put('profile', profile);\r\n  },\r\n};\r\n\r\nexport const securityAPI = {\r\n  getCaptchaUrl() {\r\n    return instance.get('security/get-captcha-url');\r\n  },\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__3b_Ht\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music\":\"Music_music__2ozzY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__1O3ZQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lds_roller\":\"Preloader_lds_roller__36ydK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Textarea_block__2WNfY\",\"field\":\"Textarea_field__1f5kU\",\"errorField\":\"Textarea_errorField__3wnOd\",\"error\":\"Textarea_error__1Ox-_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3tJyT\",\"links\":\"Navbar_links__20KC5\",\"item\":\"Navbar_item__1Uyvu\",\"active\":\"Navbar_active__leOmI\"};","export const updateObjectInArray = (\r\n  items,\r\n  itemId,\r\n  objPropName,\r\n  newOpjProps,\r\n) => {\r\n  return items.map((i) => {\r\n    if (i[objPropName] === itemId) {\r\n      return { ...i, ...newOpjProps };\r\n    }\r\n    return i;\r\n  });\r\n};\r\n","import { usersAPI } from '../api/api';\r\nimport { updateObjectInArray } from '../utils/object-helpers';\r\nimport { setGlobalError } from './app-reducer';\r\nimport { setTotalsCount } from './pagination-reducer';\r\nimport { getUser } from './profile-reducer';\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET_USERS';\r\nconst SET_FRIENDS = 'users/SET_FRIENDS';\r\nconst SET_SIDEBAR_FRIENDS = 'users/SET_SIDEBAR_FRIENDS';\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE_IS_FOLLOWING_PROGRESS';\r\nconst TOGGLE_IS_FRIENDS = 'users/TOGGLE_IS_FRIENDS';\r\n\r\nconst initialState = {\r\n  users: [],\r\n  friends: [],\r\n  sidebarFriends: [],\r\n  isFetching: false,\r\n  isFriends: false,\r\n  followingInProgress: [],\r\n  sidebarSize: 5,\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', {\r\n          followed: true,\r\n        }),\r\n        friends: updateObjectInArray(state.friends, action.userId, 'id', {\r\n          followed: true,\r\n        }),\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', {\r\n          followed: false,\r\n        }),\r\n        friends: updateObjectInArray(state.friends, action.userId, 'id', {\r\n          followed: false,\r\n        }),\r\n      };\r\n\r\n    case SET_USERS:\r\n    case SET_FRIENDS:\r\n    case SET_SIDEBAR_FRIENDS:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n\r\n    case TOGGLE_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching };\r\n    }\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : [state.followingInProgress.filter((id) => id !== action.userId)],\r\n      };\r\n    }\r\n    case TOGGLE_IS_FRIENDS: {\r\n      return { ...state, isFriends: action.isFriends };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, payload: { users } });\r\nexport const setFriends = (friends) => ({\r\n  type: SET_FRIENDS,\r\n  payload: { friends },\r\n});\r\nexport const setSidebarFriends = (sidebarFriends) => ({\r\n  type: SET_SIDEBAR_FRIENDS,\r\n  payload: { sidebarFriends },\r\n});\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\nexport const toggleIsFriends = (isFriends) => ({\r\n  type: TOGGLE_IS_FRIENDS,\r\n  isFriends,\r\n});\r\n\r\nconst requestUsersFlow = async (\r\n  dispatch,\r\n  page,\r\n  pageSize,\r\n  nameOfElements,\r\n  setFunction,\r\n  isFriends,\r\n  isFetching,\r\n) => {\r\n  try {\r\n    dispatch(toggleIsFetching(isFetching));\r\n    const response = await usersAPI.getUsers(page, pageSize, isFriends);\r\n    dispatch(setFunction(response.data.items));\r\n    dispatch(setTotalsCount(nameOfElements, response.data.totalCount));\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n  dispatch(toggleIsFetching(false));\r\n};\r\n\r\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\r\n  requestUsersFlow(dispatch, page, pageSize, 'users', setUsers, false, true);\r\n};\r\n\r\nexport const requestFriends = (page, pageSize) => async (dispatch) => {\r\n  requestUsersFlow(dispatch, page, pageSize, 'friends', setFriends, true, true);\r\n};\r\n\r\nexport const requestSidebarFriends = (page, pageSize) => async (dispatch) => {\r\n  requestUsersFlow(\r\n    dispatch,\r\n    page,\r\n    pageSize,\r\n    'sidebarFriends',\r\n    setSidebarFriends,\r\n    true,\r\n    false,\r\n  );\r\n};\r\n\r\nconst followUnfollowFlow = async (\r\n  dispatch,\r\n  userId,\r\n  apiMethod,\r\n  actionCreator,\r\n  requestSidebarFriends,\r\n  getState,\r\n  getUser,\r\n) => {\r\n  try {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    const response = await apiMethod(userId);\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(actionCreator(userId));\r\n      requestSidebarFriends(dispatch);\r\n      const profile = getState().profilePage.profile;\r\n      profile && (await getUser(profile.fullName)(dispatch));\r\n    }\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => async (dispatch, getState) => {\r\n  followUnfollowFlow(\r\n    dispatch,\r\n    userId,\r\n    usersAPI.follow.bind(usersAPI),\r\n    followSuccess,\r\n    requestSidebarFriends(1, 5),\r\n    getState,\r\n    getUser,\r\n  );\r\n};\r\n\r\nexport const unfollow = (userId) => async (dispatch, getState) => {\r\n  followUnfollowFlow(\r\n    dispatch,\r\n    userId,\r\n    usersAPI.unfollow.bind(usersAPI),\r\n    unfollowSuccess,\r\n    requestSidebarFriends(1, 5),\r\n    getState,\r\n    getUser,\r\n  );\r\n};\r\n\r\nexport default usersReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"Users_user__1L9rY\",\"avatar\":\"Users_avatar__245Zb\",\"leftBlock\":\"Users_leftBlock__2mXjK\",\"rightBlock\":\"Users_rightBlock__tpx-n\",\"name\":\"Users_name__RYCWc\",\"status\":\"Users_status__2hB2k\",\"friendButton\":\"Users_friendButton__ehvkF\",\"allUsersButton\":\"Users_allUsersButton__1doSI\",\"showFriends\":\"Users_showFriends__21BCl\"};","import { stopSubmit } from 'redux-form';\r\nimport { profileAPI, usersAPI } from '../api/api';\r\nimport { setGlobalError } from './app-reducer';\r\n\r\nconst ADD_POST = 'profilePage/ADD-POST';\r\nconst SET_USER_PROFILE = 'profilePage/SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'profilePage/SET_USER_STATUS';\r\nconst TOGGLE_IS_FETCHING = 'profilePage/TOGGLE_IS_FETCHING';\r\nconst INITIALIZED_SUCCESS_PROFILE = 'profilePage/INITIALIZED_SUCCESS_PROFILE';\r\nconst SAVE_PHOTO_SUCCESS = 'profilePage/SAVE_PHOTO_SUCCESS';\r\nconst TOGGLE_IS_FETCHING_STATUS = 'profilePage/TOGGLE_IS_FETCHING_STATUS';\r\nconst TOGGLE_IS_FETCHING_PROFILE_INFO =\r\n  'profilePage/TOGGLE_IS_FETCHING_PROFILE_INFO';\r\nconst SET_USER_SUCCESS = 'profilePage/SET_USER_SUCCESS';\r\n\r\nconst initialState = {\r\n  posts: [],\r\n  profile: null,\r\n  user: {},\r\n  isFetching: false,\r\n  isFetchingStatus: false,\r\n  isFetchingProfileInfo: false,\r\n  status: '',\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        posts: [\r\n          {\r\n            idUserPage: action.idUserPage,\r\n            message: action.message,\r\n            name: action.name,\r\n            likesCount: action.likesCount,\r\n            id: state.posts.length,\r\n          },\r\n          ...state.posts,\r\n        ],\r\n      };\r\n\r\n    case SET_USER_PROFILE:\r\n      return { ...state, profile: action.profile };\r\n\r\n    case SET_USER_STATUS:\r\n      return { ...state, status: action.status };\r\n\r\n    case TOGGLE_IS_FETCHING:\r\n      return { ...state, isFetching: action.isFetching };\r\n    case TOGGLE_IS_FETCHING_STATUS:\r\n      return { ...state, isFetchingStatus: action.isFetchingStatus };\r\n    case TOGGLE_IS_FETCHING_PROFILE_INFO:\r\n      return { ...state, isFetchingProfileInfo: action.isFetchingProfileInfo };\r\n\r\n    case INITIALIZED_SUCCESS_PROFILE:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n\r\n    case SAVE_PHOTO_SUCCESS:\r\n      return {\r\n        ...state,\r\n        profile: { ...state.profile, photos: action.photos },\r\n      };\r\n\r\n    case SET_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        user: action.user,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPostCreator = (idUserPage, message, name, likesCount) => ({\r\n  type: ADD_POST,\r\n  idUserPage,\r\n  message,\r\n  name,\r\n  likesCount,\r\n});\r\nexport const setUserProfile = (profile) => ({\r\n  type: SET_USER_PROFILE,\r\n  profile,\r\n});\r\nexport const setUserStatusSuccess = (status) => ({\r\n  type: SET_USER_STATUS,\r\n  status,\r\n});\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n});\r\nexport const toggleIsFetchingStatus = (isFetchingStatus) => ({\r\n  type: TOGGLE_IS_FETCHING_STATUS,\r\n  isFetchingStatus,\r\n});\r\nexport const toggleIsFetchingProfileInfo = (isFetchingProfileInfo) => ({\r\n  type: TOGGLE_IS_FETCHING_PROFILE_INFO,\r\n  isFetchingProfileInfo,\r\n});\r\nexport const initializedSuccessProfile = () => ({\r\n  type: INITIALIZED_SUCCESS_PROFILE,\r\n});\r\nexport const savePhotoSuccess = (photos) => ({\r\n  type: SAVE_PHOTO_SUCCESS,\r\n  photos,\r\n});\r\nexport const setUserSuccess = (user) => ({\r\n  type: SET_USER_SUCCESS,\r\n  user,\r\n});\r\n\r\nexport const addPost = (idUserPage, message, name, likesCount = 0) => (\r\n  dispatch,\r\n) => {\r\n  dispatch(addPostCreator(idUserPage, message, name, likesCount));\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n  try {\r\n    const response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch(toggleIsFetchingProfileInfo(true));\r\n    const userId = getState().auth.userId;\r\n    const response = await profileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n      await dispatch(getUserProfile(userId));\r\n    } else {\r\n      const messages = response.data.messages\r\n        .map((i) => {\r\n          const field = i.match(/(?<=\\()(.*?)(?=\\))/)[0];\r\n          const newField = field[0].toLowerCase() + field.slice(1);\r\n          const error = i.match(/(.*?)(?=\\()/)[0];\r\n          return { [newField]: error };\r\n        })\r\n        .reduce(\r\n          (a, i) => {\r\n            const field = Object.keys(i)[0];\r\n            if (field.search('contacts') !== -1) {\r\n              const contact = field.match(/(?<=>)(.*?)(?=$)/)[0];\r\n              const newContact = contact[0].toLowerCase() + contact.slice(1);\r\n              const error = Object.values(i)[0];\r\n              return { ...a, contacts: { ...a.contacts, [newContact]: error } };\r\n            }\r\n            return Object.assign(a, i);\r\n          },\r\n          { contacts: {} },\r\n        );\r\n      dispatch(stopSubmit('edit-profile', messages));\r\n      return Promise.reject(response.data.messages[0]);\r\n    }\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n  dispatch(toggleIsFetchingProfileInfo(false));\r\n};\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  try {\r\n    dispatch(toggleIsFetching(true));\r\n    const responseStatus = await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatusSuccess(responseStatus.data));\r\n    const responseProfile = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(responseProfile.data));\r\n    await getUser(responseProfile.data.fullName)(dispatch);\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n  dispatch(toggleIsFetching(false));\r\n};\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n  try {\r\n    const response = await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatusSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n};\r\n\r\nexport const getUser = (fullName) => async (dispatch) => {\r\n  const responseUser = await usersAPI.findUser(fullName);\r\n  dispatch(setUserSuccess(responseUser.data.items[0]));\r\n};\r\n\r\nexport const setUserStatus = (status) => async (dispatch) => {\r\n  try {\r\n    dispatch(toggleIsFetchingStatus(true));\r\n    const response = await profileAPI.setStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setUserStatusSuccess(status));\r\n    }\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n  dispatch(toggleIsFetchingStatus(false));\r\n};\r\n\r\nexport default profileReducer;\r\n","import { stopSubmit } from 'redux-form';\r\nimport { authAPI, securityAPI } from '../api/api';\r\nimport { setGlobalError } from './app-reducer';\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'auth/GET_CAPTCHA_URL_SUCCES';\r\n\r\nconst initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isFetching: false,\r\n  isAuth: false,\r\n  captchaUrl: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n    case GET_CAPTCHA_URL_SUCCESS:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: {\r\n    userId,\r\n    email,\r\n    login,\r\n    isAuth,\r\n  },\r\n});\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n  type: GET_CAPTCHA_URL_SUCCESS,\r\n  payload: { captchaUrl },\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  try {\r\n    const response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n      const { id, email, login } = response.data.data;\r\n      dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n};\r\n\r\nexport const login = (email, password, rememberMe, captcha = null) => async (\r\n  dispatch,\r\n) => {\r\n  try {\r\n    const response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(getAuthUserData());\r\n    } else {\r\n      if (response.data.resultCode === 10) {\r\n        dispatch(getCaptchaUrl());\r\n      }\r\n      const message =\r\n        response.data.messages.length > 0\r\n          ? response.data.messages[0]\r\n          : 'Some error';\r\n      dispatch(stopSubmit('login', { _error: message }));\r\n    }\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  try {\r\n    const response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n  try {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n  } catch (error) {\r\n    dispatch(setGlobalError(error));\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { applyMiddleware, combineReducers, createStore, compose } from 'redux';\r\nimport authReducer from './auth-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport profileReducer from './profile-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport paginationReducer from './pagination-reducer';\r\nimport thunk from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from './app-reducer';\r\n\r\nconst reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n  pagination: paginationReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\r\n\r\n/* const store = createStore(reducers, applyMiddleware(thunk)); */\r\n\r\nwindow.store = store;\r\n\r\nexport default store;\r\n","import cl from './News.module.css';\r\n\r\nconst News = (props) => {\r\n  return <div className={`${cl.news} ${'block'}`}>News</div>;\r\n};\r\n\r\nexport default News;\r\n","import cl from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\n  return <div className={`${cl.music} ${'block'}`}>Music</div>;\r\n};\r\n\r\nexport default Music;\r\n","import cl from './Settings.module.css';\r\n\r\nconst Settings = (props) => {\r\n  return <div className={`${cl.settings} ${'block'}`}>Settings</div>;\r\n};\r\n\r\nexport default Settings;\r\n","import { NavLink } from 'react-router-dom';\r\nimport cl from './Users.module.css';\r\nimport userPhoto from '../../assets/images/1.png';\r\nimport FolloUnfollowButton from '../common/FollowUnfollowButton/FollowUnfollowButton';\r\n\r\nconst User = ({ user }) => (\r\n  <div className={`${cl.user} ${'block'}`} key={user.id}>\r\n    <div className={cl.leftBlock}>\r\n      <div>\r\n        <NavLink to={'/profile/' + user.id}>\r\n          <img\r\n            className={cl.avatar}\r\n            src={user.photos.small != null ? user.photos.small : userPhoto}\r\n            alt=\"ava\"\r\n          />\r\n        </NavLink>\r\n      </div>\r\n      <div>\r\n        <FolloUnfollowButton user={user} />\r\n      </div>\r\n    </div>\r\n    <div className={cl.rightBlock}>\r\n      <NavLink to={'/profile/' + user.id}>\r\n        <div className={cl.name}>{user.name}</div>\r\n        <div className={cl.status}>{user.status}</div>\r\n      </NavLink>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default User;\r\n","import cl from './Pagination.module.css';\r\n\r\nconst Pagination = ({\r\n  onShiftPagesLeft,\r\n  onShiftPagesRight,\r\n  onPageChanged,\r\n  pages,\r\n  currentPage,\r\n  beginPage,\r\n  endPage,\r\n}) => {\r\n  return (\r\n    <div className={cl.scrollPages}>\r\n      <button\r\n        className={`${cl.numberPage}`}\r\n        onClick={() => {\r\n          onShiftPagesLeft();\r\n        }}\r\n      >\r\n        {'< '}\r\n      </button>\r\n      {pages\r\n        .map((page) => (\r\n          <span\r\n            key={page}\r\n            className={`${currentPage === page && cl.selectedPage} ${\r\n              cl.numberPage\r\n            }`}\r\n            onClick={() => {\r\n              onPageChanged(page);\r\n            }}\r\n          >\r\n            {'  '}\r\n            {page}\r\n          </span>\r\n        ))\r\n        .slice(beginPage, endPage)}\r\n      <button\r\n        className={`${cl.numberPage}`}\r\n        onClick={() => {\r\n          onShiftPagesRight();\r\n        }}\r\n      >\r\n        {' >'}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import Pagination from './Pagination';\r\nimport { setCurrentPage, shiftPages } from '../../../redux/pagination-reducer';\r\nimport { connect } from 'react-redux';\r\n\r\nconst PaginationContainer = ({\r\n  nameOfElements,\r\n  pageSize,\r\n  requestFunction,\r\n  setCurrentPage,\r\n  shiftPages,\r\n  state,\r\n}) => {\r\n  const { beginPage, endPage, totalCount, currentPage } = state[nameOfElements];\r\n\r\n  const totalCountPage = Math.ceil(totalCount / pageSize);\r\n\r\n  const onPageChanged = (pageNumber) => {\r\n    requestFunction(pageNumber, pageSize);\r\n    setCurrentPage(nameOfElements, pageNumber);\r\n  };\r\n\r\n  const onShiftPagesLeft = () => {\r\n    if (currentPage !== 1) {\r\n      onPageChanged(currentPage - 1);\r\n      if (beginPage !== 0) {\r\n        shiftPages(nameOfElements, beginPage - 1, endPage - 1);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onShiftPagesRight = () => {\r\n    if (currentPage !== totalCountPage) {\r\n      onPageChanged(currentPage + 1);\r\n      if (endPage !== totalCountPage) {\r\n        shiftPages(nameOfElements, beginPage + 1, endPage + 1);\r\n      }\r\n    }\r\n  };\r\n\r\n  const pages = [];\r\n  for (let i = 1; i <= totalCountPage; i += 1) {\r\n    pages.push(i);\r\n  }\r\n\r\n  return (\r\n    <Pagination\r\n      onShiftPagesLeft={onShiftPagesLeft}\r\n      onShiftPagesRight={onShiftPagesRight}\r\n      onPageChanged={onPageChanged}\r\n      pages={pages}\r\n      currentPage={currentPage}\r\n      beginPage={beginPage}\r\n      endPage={endPage}\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    state: state.pagination,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  setCurrentPage,\r\n  shiftPages,\r\n})(PaginationContainer);\r\n","import cl from './Users.module.css';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport User from './User';\r\nimport PaginationContainer from '../common/Pagination/PaginationContainer';\r\n\r\nconst Users = ({\r\n  users,\r\n  friends,\r\n  onAllUsers,\r\n  onShowFriends,\r\n  isFetching,\r\n  isFriends,\r\n  requestUsers,\r\n  requestFriends,\r\n}) => {\r\n  const createPage = (array) => {\r\n    return array.map((i) => <User key={i.id} user={i} />);\r\n  };\r\n\r\n  return (\r\n    <div className={`${'block'}`}>\r\n      {isFriends ? (\r\n        <PaginationContainer\r\n          nameOfElements=\"friends\"\r\n          pageSize={4}\r\n          requestFunction={requestFriends}\r\n        />\r\n      ) : (\r\n        <PaginationContainer\r\n          nameOfElements=\"users\"\r\n          pageSize={4}\r\n          requestFunction={requestUsers}\r\n        />\r\n      )}\r\n      {isFetching ? (\r\n        <Preloader />\r\n      ) : (\r\n        <div>\r\n          {isFriends ? createPage(friends) : createPage(users)}\r\n          <div className={cl.friendButton}>\r\n            {isFriends ? (\r\n              <button className={cl.allUsersButton} onClick={onAllUsers}>\r\n                All Users\r\n              </button>\r\n            ) : (\r\n              <button className={cl.showFriends} onClick={onShowFriends}>\r\n                Show Friends\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","export const getUsers = (state) => {\r\n  return state.usersPage.users;\r\n};\r\n\r\n/* export const getUsersSuperSelector = createSelector(\r\n  getUsers,\r\n  getIsFetching,\r\n  (users, isFetching) => {\r\n    return users.filter((u) => true);\r\n  },\r\n); */\r\n\r\nexport const getFriends = (state) => {\r\n  return state.usersPage.friends;\r\n};\r\n\r\nexport const getIsFriends = (state) => {\r\n  return state.usersPage.isFriends;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport Users from './Users';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  toggleIsFriends,\r\n  requestUsers,\r\n  requestFriends,\r\n} from '../../redux/users-reducer';\r\nimport {\r\n  getIsFetching,\r\n  getUsers,\r\n  getIsFriends,\r\n  getFriends,\r\n} from '../../redux/users-selectors';\r\n\r\nconst UsersContainer = ({\r\n  isFriends,\r\n  users,\r\n  friends,\r\n  isFetching,\r\n  requestUsers,\r\n  requestFriends,\r\n  toggleIsFriends,\r\n}) => {\r\n  useEffect(() => {\r\n    isFriends ? requestFriends(1, 4) : requestUsers(1, 4);\r\n  }, [isFriends, requestFriends, requestUsers]);\r\n\r\n  const onAllUsers = () => {\r\n    toggleIsFriends(false);\r\n  };\r\n\r\n  const onShowFriends = () => {\r\n    toggleIsFriends(true);\r\n  };\r\n\r\n  return (\r\n    <Users\r\n      onAllUsers={onAllUsers}\r\n      onShowFriends={onShowFriends}\r\n      isFriends={isFriends}\r\n      users={users}\r\n      friends={friends}\r\n      isFetching={isFetching}\r\n      requestUsers={requestUsers}\r\n      requestFriends={requestFriends}\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    friends: getFriends(state),\r\n    isFetching: getIsFetching(state),\r\n    isFriends: getIsFriends(state),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  requestUsers,\r\n  requestFriends,\r\n  toggleIsFriends,\r\n})(UsersContainer);\r\n","import { NavLink } from 'react-router-dom';\r\nimport cl from './Header.module.css';\r\n\r\nconst Header = ({ isAuth, login, logout }) => {\r\n  return (\r\n    <header className={cl.header}>\r\n      <img\r\n        src=\"https://cdn2.iconfinder.com/data/icons/social-flat-buttons-3/512/tripit-512.png\"\r\n        alt=\"logo\"\r\n      ></img>\r\n      <div className={cl.loginBlock}>\r\n        {isAuth ? (\r\n          <div>\r\n            {login}\r\n            <button className={cl.logout} onClick={logout}>\r\n              Logout\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <NavLink to={'/login'}>Login</NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { logout } from '../../redux/auth-reducer';\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\n\r\nconst HeaderContainer = connect(mapStateToProps, { logout })(Header);\r\n\r\nexport default HeaderContainer;\r\n","import { connect } from 'react-redux';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { Checkbox, Input } from '../common/FormsControls/FormsControls';\r\nimport { login, logout } from '../../redux/auth-reducer';\r\nimport { Redirect } from 'react-router';\r\nimport st from '../common/FormsControls/FormsControls.module.css';\r\nimport cl from './Login.module.css';\r\n\r\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\r\n  return (\r\n    <form className={cl.form} onSubmit={handleSubmit}>\r\n      <div>\r\n        <Field\r\n          placeholder={'Email'}\r\n          name={'email'}\r\n          component={Input}\r\n          validate={[required]}\r\n        />\r\n      </div>\r\n      <div>\r\n        <Field\r\n          placeholder={'Password'}\r\n          name={'password'}\r\n          component={Input}\r\n          type={'password'}\r\n          validate={[required]}\r\n        />\r\n      </div>\r\n      <div className={st.checkbox}>\r\n        <div>\r\n          <Field type={'checkbox'} name={'rememberMe'} component={Checkbox} />\r\n        </div>\r\n        <label htmlFor=\"rememberMe\">remember me</label>\r\n      </div>\r\n      {captchaUrl && <img src={captchaUrl} alt=\"\" />}\r\n      {captchaUrl && (\r\n        <Field\r\n          placeholder={'Symbols from image'}\r\n          name={'captcha'}\r\n          component={Input}\r\n          validate={[required]}\r\n        />\r\n      )}\r\n      {error && (\r\n        <div>\r\n          <div className={st.formSummeryError}>{error}</div>\r\n        </div>\r\n      )}\r\n      <button className={st.loginBtn}>Login</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: 'login',\r\n})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n  if (props.isAuth) {\r\n    return <Redirect to={'/profile/' + props.userId} />;\r\n  }\r\n\r\n  const onSubmit = (formData) => {\r\n    props.login(\r\n      formData.email,\r\n      formData.password,\r\n      formData.rememberMe,\r\n      formData.captcha,\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"block\">\r\n      <div className={cl.form}>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n      </div>\r\n      <div className={cl.test}>\r\n        <h3>Тестовый акаунт</h3>\r\n        <p>\r\n          Email: <strong>free@samuraijs.com</strong>\r\n        </p>\r\n        <p>\r\n          Password: <strong>free</strong>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  userId: state.auth.userId,\r\n  captchaUrl: state.auth.captchaUrl,\r\n});\r\n\r\nexport default connect(mapStateToProps, { login, logout })(Login);\r\n","import { NavLink } from 'react-router-dom';\r\nimport cl from './Navbar.module.css';\r\n\r\nconst Navbar = ({ userId, getUserProfile }) => {\r\n  const onUserProfile = () => getUserProfile(userId);\r\n\r\n  return (\r\n    <nav className={`${cl.nav} ${'block'}`}>\r\n      <div className={cl.links}>\r\n        <div className={cl.item}>\r\n          <NavLink\r\n            to={!userId ? `/login` : `/profile/${userId}`}\r\n            onClick={onUserProfile}\r\n            activeClassName={cl.active}\r\n          >\r\n            My profile\r\n          </NavLink>\r\n        </div>\r\n        <div className={cl.item}>\r\n          <NavLink to=\"/dialogs\" activeClassName={cl.active}>\r\n            Messages\r\n          </NavLink>\r\n        </div>\r\n        <div className={cl.item}>\r\n          <NavLink to=\"/news\" activeClassName={cl.active}>\r\n            News\r\n          </NavLink>\r\n        </div>\r\n        <div className={cl.item}>\r\n          <NavLink to=\"/music\" activeClassName={cl.active}>\r\n            Music\r\n          </NavLink>\r\n        </div>\r\n        <div className={cl.item}>\r\n          <NavLink to=\"/settings\" activeClassName={cl.active}>\r\n            Settings\r\n          </NavLink>\r\n        </div>\r\n        <div className={cl.item}>\r\n          <NavLink to=\"/users\" activeClassName={cl.active}>\r\n            Users\r\n          </NavLink>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import { connect } from 'react-redux';\r\nimport Navbar from './Navbar';\r\nimport { getUserProfile } from '../../redux/profile-reducer';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { userId: state.auth.userId };\r\n};\r\n\r\nconst NavbarContainer = connect(mapStateToProps, { getUserProfile })(Navbar);\r\n\r\nexport default NavbarContainer;\r\n","import st from './ErrorMessage.module.css';\r\n\r\nconst ErrorMessage = ({ globalError, setGlobalError }) => {\r\n  const clearError = () => {\r\n    setGlobalError();\r\n  };\r\n  return (\r\n    <div className={st.errorBlock}>\r\n      <div className={st.mainMessage}>{globalError.mainMessage}</div>\r\n      <div className={st.errorMessage}>({globalError.errorMessage})</div>\r\n      <button className={st.button} onClick={clearError}>\r\n        Ок\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\nexport default ErrorMessage;\r\n","import React from 'react';\r\nimport cl from './Sidebar.module.css';\r\nimport userPhoto from '../../assets/images/1.png';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Sidebar = ({ friends, getUserProfile }) => {\r\n  const sidebarElements = friends.map((friend) => {\r\n    const onUserProfile = () => getUserProfile(friend.id);\r\n    return (\r\n      <NavLink\r\n        key={friend.id}\r\n        to={`/profile/${friend.id}`}\r\n        onClick={onUserProfile}\r\n      >\r\n        <div className={cl.sidebarFriend}>\r\n          <img\r\n            className={cl.avatar}\r\n            src={friend.photos.small || userPhoto}\r\n            alt=\"ava\"\r\n          />\r\n          <div className={cl.friendName}>{friend.name}</div>\r\n        </div>\r\n      </NavLink>\r\n    );\r\n  });\r\n  return (\r\n    <div\r\n      className={`${cl.sidebar} ${'block'} ${\r\n        friends.length === 0 ? cl.hidden : ''\r\n      }`}\r\n    >\r\n      <div className={cl.heading}>Friends</div>\r\n      {sidebarElements}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { requestSidebarFriends } from '../../redux/users-reducer';\r\nimport { getUserProfile } from '../../redux/profile-reducer';\r\nimport Sidebar from './Sidebar';\r\n\r\nconst SidebarContainer = ({\r\n  sidebarSize,\r\n  sidebarFriends,\r\n  getUserProfile,\r\n  requestSidebarFriends,\r\n}) => {\r\n  useEffect(() => {\r\n    requestSidebarFriends(1, sidebarSize);\r\n  }, [sidebarFriends.length, requestSidebarFriends, sidebarSize]);\r\n\r\n  return <Sidebar friends={sidebarFriends} getUserProfile={getUserProfile} />;\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    sidebarFriends: state.usersPage.sidebarFriends,\r\n    sidebarSize: state.usersPage.sidebarSize,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  requestSidebarFriends,\r\n  getUserProfile,\r\n})(SidebarContainer);\r\n","import {\r\n  HashRouter as BrowserRouter,\r\n  Redirect,\r\n  Route,\r\n  Switch,\r\n} from 'react-router-dom';\r\nimport './App.css';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginPage from './components/Login/Login';\r\nimport React, { Suspense, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { initializeApp, setGlobalError } from './redux/app-reducer';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport NavbarContainer from './components/Navbar/NavbarContainer';\r\nimport ErrorMessage from './components/common/ErrorMessage/ErrorMessage';\r\nimport SidebarContainer from './components/Sidebar/SidebarContainer';\r\n\r\nconst DialogsContainer = React.lazy(() =>\r\n  import('./components/Dialogs/DialogsContainer'),\r\n);\r\nconst ProfileContainer = React.lazy(() =>\r\n  import('./components/Profile/ProfileContainer'),\r\n);\r\n\r\nconst App = ({ initialized, globalError, initializeApp, setGlobalError }) => {\r\n  useEffect(() => {\r\n    const catchAllUnhandledErrors = (promise) => {\r\n      setGlobalError('Необработанная ошибка', promise.reason);\r\n    };\r\n    initializeApp();\r\n    window.addEventListener('unhandledrejection', catchAllUnhandledErrors);\r\n    return window.removeEventListener(\r\n      'unhandledrejection',\r\n      catchAllUnhandledErrors,\r\n    );\r\n  }, [initializeApp, setGlobalError]);\r\n\r\n  if (!initialized) {\r\n    return <Preloader />;\r\n  }\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <HeaderContainer />\r\n\r\n      <div className=\"app-wrapper\">\r\n        {globalError.mainMessage && (\r\n          <ErrorMessage\r\n            globalError={globalError}\r\n            setGlobalError={setGlobalError}\r\n          />\r\n        )}\r\n        <div>\r\n          <NavbarContainer />\r\n          <SidebarContainer />\r\n        </div>\r\n        <Suspense fallback={<Preloader />}>\r\n          <Switch>\r\n            <Redirect exact from=\"/\" to=\"/profile\" />\r\n            <Route path=\"/dialogs\" component={DialogsContainer} />\r\n\r\n            <Route path=\"/profile/:userId?\" component={ProfileContainer} />\r\n\r\n            <Route path=\"/news\" component={News} />\r\n\r\n            <Route path=\"/music\" component={Music} />\r\n\r\n            <Route path=\"/settings\" component={Settings} />\r\n\r\n            <Route path=\"/users\" component={UsersContainer} />\r\n\r\n            <Route path=\"/login\" component={LoginPage} />\r\n            <Route\r\n              path=\"*\"\r\n              render={() => <div className=\"block\">404 - PAGE NOT FOUND</div>}\r\n            />\r\n          </Switch>\r\n        </Suspense>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized,\r\n  globalError: state.app.globalError,\r\n  friends: state.usersPage.friends,\r\n});\r\n\r\nexport default connect(mapStateToProps, { initializeApp, setGlobalError })(App);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport store from './redux/redux-store';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","const SET_CURRENT_PAGE = 'pagination/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_COUNT = 'pagination/SET_TOTAL_COUNT';\r\nconst SHIFT_PAGES = 'pagination/SHIFT_PAGES';\r\n\r\nconst initialState = {\r\n  users: {\r\n    beginPage: 0,\r\n    endPage: 12,\r\n    totalCount: 0,\r\n    currentPage: 1,\r\n  },\r\n  friends: {\r\n    beginPage: 0,\r\n    endPage: 12,\r\n    totalCount: 0,\r\n    currentPage: 1,\r\n  },\r\n};\r\n\r\nconst paginationReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_CURRENT_PAGE:\r\n    case SET_TOTAL_COUNT:\r\n    case SHIFT_PAGES:\r\n      return {\r\n        ...state,\r\n        [action.nameOfElements]: {\r\n          ...state[action.nameOfElements],\r\n          ...action.payload,\r\n        },\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setCurrentPage = (nameOfElements, currentPage) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  nameOfElements,\r\n  payload: { currentPage },\r\n});\r\nexport const setTotalsCount = (nameOfElements, totalCount) => ({\r\n  type: SET_TOTAL_COUNT,\r\n  nameOfElements,\r\n  payload: { totalCount },\r\n});\r\nexport const shiftPages = (nameOfElements, beginPage, endPage) => ({\r\n  type: SHIFT_PAGES,\r\n  nameOfElements,\r\n  payload: { beginPage, endPage },\r\n});\r\n\r\nexport default paginationReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__37NVi\",\"avatar\":\"Sidebar_avatar__niNtw\",\"sidebarFriend\":\"Sidebar_sidebarFriend__2GBq2\",\"friendName\":\"Sidebar_friendName__2ChZ2\",\"heading\":\"Sidebar_heading__2-UmF\",\"hidden\":\"Sidebar_hidden__1HBYl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"follow\":\"FollowUnfollowButton_follow__3lCoS\",\"unfollow\":\"FollowUnfollowButton_unfollow__3bi9r\",\"button\":\"FollowUnfollowButton_button__1dUTd\",\"hidden\":\"FollowUnfollowButton_hidden__1pMuL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollPages\":\"Pagination_scrollPages__2UahA\",\"numberPage\":\"Pagination_numberPage__PLvK3\",\"selectedPage\":\"Pagination_selectedPage__3FCs0\"};","import cl from './Preloader.module.css';\r\n\r\nconst Preloader = (props) => (\r\n  <div className={cl.lds_roller + ' ' + props.className}>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n  </div>\r\n);\r\nexport default Preloader;\r\n","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport TextareaStyles from './Textarea.module.css';\r\nimport InputProfileInfoStyles from './InputProfileInfo.module.css';\r\nimport CheckboxStyles from './Checkbox.module.css';\r\n\r\nexport const FormControl = (Element, className) => ({\r\n  input,\r\n  meta: { touched, error },\r\n  ...props\r\n}) => {\r\n  const hasError = touched && error;\r\n  return (\r\n    <div className={className.block}>\r\n      <Element\r\n        {...input}\r\n        {...props}\r\n        className={\r\n          className.field + ' ' + (hasError ? className.errorField : '')\r\n        }\r\n      />\r\n      {hasError && <div className={className.error}>{error}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Textarea = FormControl('textarea', TextareaStyles);\r\nexport const Input = FormControl('input', InputProfileInfoStyles);\r\nexport const Checkbox = FormControl('input', CheckboxStyles);\r\nexport const InputProfileInfo = FormControl('input', InputProfileInfoStyles);\r\n\r\nexport const createField = (\r\n  placeholder,\r\n  name,\r\n  validators,\r\n  component,\r\n  props = {},\r\n) => (\r\n  <Field\r\n    placeholder={placeholder}\r\n    name={name}\r\n    validate={validators}\r\n    component={component}\r\n    {...props}\r\n  />\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorBlock\":\"ErrorMessage_errorBlock__3_pNj\",\"button\":\"ErrorMessage_button__1KcLA\",\"mainMessage\":\"ErrorMessage_mainMessage__1Fq-L\",\"errorMessage\":\"ErrorMessage_errorMessage__2IH_k\"};","export default __webpack_public_path__ + \"static/media/1.e36dde25.png\";","export const required = (value) => {\r\n  if (value) return undefined;\r\n  return 'Field is required';\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n  return undefined;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__2OAWu\",\"error\":\"FormsControls_error__CJKw9\",\"formSummeryError\":\"FormsControls_formSummeryError__3xO10\",\"checkbox\":\"FormsControls_checkbox__beWy1\",\"loginBtn\":\"FormsControls_loginBtn__1jXYH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2jC4j\",\"loginBlock\":\"Header_loginBlock__18G30\",\"logout\":\"Header_logout__1gBgl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Login_form__1mEHP\",\"test\":\"Login_test__sNFCp\"};"],"sourceRoot":""}