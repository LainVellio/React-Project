(this["webpackJsonpreact-1"]=this["webpackJsonpreact-1"]||[]).push([[0],{100:function(e,t,n){e.exports={block:"InputProfileInfo_block__2_9WD",field:"InputProfileInfo_field__2t2br",errorField:"InputProfileInfo_errorField__3ecPA",error:"InputProfileInfo_error__1cHdL"}},112:function(e,t,n){"use strict";n.d(t,"d",(function(){return g})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return x}));var r=n(7),a=n.n(r),s=n(13),c=n(30),i=n(5),o=n(14),u=n(12),l="dialogs/SEND-MESSAGE",d="dialogs/SET_SELECTED_USER_ID",f="dialogs/SET_FRIENDS",b="dialogs/ADD_NEXT_FRIENDS_PAGE_CREATOR",j="dialogs/SET_TOTAL_COUNT_FRIENDS",p="dialogs/SET_PAGE_FRIENDS",h={dialogs:[],friends:[],selectedUserId:null,totalCountFriends:0,pageSize:5,pageFriends:2},g=function(e,t){return{type:l,userId:e,message:t}},O=function(e){return{type:d,payload:{selectedUserId:e}}},m=function(e){return{type:f,friends:e}},v=function(e){return{type:p,payload:{pageFriends:e}}},_=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s,c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.d.getUsers(e,t,!0);case 3:s=n.sent,c=s.data.items,r(m(c)),r((a=s.data.totalCount,{type:j,payload:{totalCountFriends:a}})),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),r(Object(u.c)(n.t0));case 12:case"end":return n.stop()}var a}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},x=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.d.getUsers(e,t,!0);case 3:s=n.sent,r((a=s.data.items,{type:b,friends:a})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),r(Object(u.c)(n.t0));case 10:case"end":return n.stop()}var a}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(i.a)(Object(i.a)({},e),{},{dialogs:e.dialogs.find((function(e){return e.userId===t.userId}))?e.dialogs.map((function(e){return e.userId===t.userId?{userId:e.userId,messages:[].concat(Object(c.a)(e.messages),[{id:e.messages.length,message:t.message}])}:e})):[].concat(Object(c.a)(e.dialogs),[{userId:t.userId,messages:[{id:0,message:t.message}]}])});case d:case p:case j:return Object(i.a)(Object(i.a)({},e),t.payload);case f:return Object(i.a)(Object(i.a)({},e),{},{friends:t.friends});case b:return Object(i.a)(Object(i.a)({},e),{},{friends:[].concat(Object(c.a)(e.friends),Object(c.a)(t.friends))});default:return e}}},12:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n(5),a=n(29),s="app/INITIALIZED_SUCCESS",c="app/SET_GLOBAL_ERROR_SUCCESS",i={initialized:!1,globalError:{mainMessage:"",errorMessage:""}},o=function(e,t){return{type:c,mainMessage:e,errorMessage:t}},u=function(){return function(e){var t=e(Object(a.b)());Promise.all([t]).then((function(){return e({type:s})}))}},l=function(e){return function(t){if(e){var n=e.response?e.response.status:"\u0421\u0442\u0430\u0442\u0443\u0441 \u043e\u0442\u0441\u0443\u0442\u0441\u0432\u0443\u0435\u0442";t(o(function(e){switch(e){case 400:return"\u041a\u043e\u0434 400 - \u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441";case 403:return"\u041a\u043e\u0434 403 - \u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430";case 500:return"\u041a\u043e\u0434 500 - \u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430";case 429:return"\u041a\u043e\u0434 429 - \u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432";default:return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430"}}(n),e.message))}else t(o("",""))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(r.a)(Object(r.a)({},e),{},{initialized:!0});case c:return Object(r.a)(Object(r.a)({},e),{},{globalError:{mainMessage:t.mainMessage,errorMessage:t.errorMessage}});default:return e}}},124:function(e,t,n){"use strict";var r=n(103),a=n(1),s=n(11),c=n(28),i=n(48),o=n.n(i),u=n(0);t.a=Object(s.b)((function(e){return{followingInProgress:e.usersPage.followingInProgress,isAuth:e.auth.isAuth}}),{setFollowed:c.e})((function(e){var t=e.user,n=e.followingInProgress,s=e.setFollowed,c=e.isAuth,i=Object(a.useState)(!0),l=Object(r.a)(i,2),d=l[0],f=l[1];return Object(a.useEffect)((function(){f(!c)}),[c]),Object(u.jsx)("div",{className:d?o.a.hidden:"",children:t.followed?Object(u.jsx)("button",{disabled:n.some((function(e){return e===t.id})),className:"".concat(o.a.button," ").concat(o.a.follow),onClick:function(){s(t.id,!1)},children:"Remove"}):Object(u.jsx)("button",{disabled:n.some((function(e){return e===t.id})),className:"".concat(o.a.button," ").concat(o.a.unfollow),onClick:function(){s(t.id,!0)},children:"Add"})})}))},14:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var r=n(137),a=n.n(r).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"dad0b652-9325-4c57-b5ef-73ca9d69ba68"}}),s={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"false";return a.get("users?page=".concat(e,"&count=").concat(t,"&friend=").concat(n))},findUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return a.get("users?term=".concat(e))},follow:function(e){return a.post("follow/".concat(e),{})},unfollow:function(e){return a.delete("follow/".concat(e))}},c={me:function(){return a.get("auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return a.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},logout:function(){return a.delete("auth/login")}},i={getProfile:function(e){return a.get("profile/".concat(e))},getStatus:function(e){return a.get("profile/status/".concat(e))},setStatus:function(e){return a.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return a.put("profile",e)}},o={getCaptchaUrl:function(){return a.get("security/get-captcha-url")}}},141:function(e,t,n){e.exports={news:"News_news__3b_Ht"}},142:function(e,t,n){e.exports={music:"Music_music__2ozzY"}},143:function(e,t,n){e.exports={settings:"Settings_settings__1O3ZQ"}},144:function(e,t,n){e.exports={lds_roller:"Preloader_lds_roller__36ydK"}},145:function(e,t,n){e.exports={block:"Textarea_block__2WNfY",field:"Textarea_field__1f5kU",errorField:"Textarea_errorField__3wnOd",error:"Textarea_error__1Ox-_"}},146:function(e,t,n){},177:function(e,t,n){},18:function(e,t,n){e.exports={nav:"Navbar_nav__3tJyT",links:"Navbar_links__20KC5",item:"Navbar_item__1Uyvu",active:"Navbar_active__leOmI"}},25:function(e,t,n){e.exports={user:"Users_user__1L9rY",avatar:"Users_avatar__245Zb",leftBlock:"Users_leftBlock__2mXjK",rightBlock:"Users_rightBlock__tpx-n",name:"Users_name__RYCWc",status:"Users_status__2hB2k",friendButton:"Users_friendButton__ehvkF",allUsersButton:"Users_allUsersButton__1doSI",showFriends:"Users_showFriends__21BCl"}},257:function(e,t,n){},28:function(e,t,n){"use strict";n.d(t,"f",(function(){return F})),n.d(t,"d",(function(){return y})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return C})),n.d(t,"e",(function(){return I}));var r=n(7),a=n.n(r),s=n(13),c=n(30),i=n(5),o=n(14),u=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(i.a)(Object(i.a)({},e),r):e}))},l=n(12),d=n(41),f=n(33),b="users/SET_FOLLOWED_SUCCESS",j="users/SET_USERS",p="users/SET_FRIENDS",h="users/SET_SIDEBAR_FRIENDS",g="users/TOGGLE_IS_FETCHING",O="users/TOGGLE_IS_FOLLOWING_PROGRESS",m="users/TOGGLE_IS_FRIENDS",v={users:[],friends:[],sidebarFriends:[],isFetching:!1,isFriends:!1,followingInProgress:[],sidebarSize:5},_=function(e,t){return{type:b,userId:e,isFollow:t}},x=function(e){return{type:j,payload:{users:e}}},S=function(e){return{type:p,payload:{friends:e}}},w=function(e){return{type:h,payload:{sidebarFriends:e}}},P=function(e){return{type:g,payload:{isFetching:e}}},E=function(e,t){return{type:O,isFetching:e,userId:t}},F=function(e){return{type:m,payload:{isFriends:e}}},N=function(){var e=Object(s.a)(a.a.mark((function e(t,n,r,s,c,i,u){var f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(P(u)),e.next=4,o.d.getUsers(n,r,i);case 4:f=e.sent,t(c(f.data.items)),t(Object(d.c)(s,f.data.totalCount)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(Object(l.c)(e.t0));case 12:t(P(!1));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r,a,s,c,i){return e.apply(this,arguments)}}(),y=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:N(r,e,t,"users",x,!1,!0);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},k=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:N(r,e,t,"friends",S,!0,!0);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},C=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:N(r,e,t,"sidebarFriends",w,!0,!1);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},I=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r,s){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,r(E(!0,e)),!t){n.next=8;break}return n.next=5,o.d.follow(e);case 5:n.t0=n.sent,n.next=11;break;case 8:return n.next=10,o.d.unfollow(e);case 10:n.t0=n.sent;case 11:if(0!==n.t0.data.resultCode){n.next=20;break}if(r(_(e,t)),C(1,5)(r),c=s().profilePage.profile,n.t1=c,!n.t1){n.next=20;break}return n.next=20,Object(f.c)(c.fullName)(r);case 20:n.next=25;break;case 22:n.prev=22,n.t2=n.catch(0),r(Object(l.c)(n.t2));case 25:r(E(!1,e));case 26:case"end":return n.stop()}}),n,null,[[0,22]])})));return function(e,t){return n.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:case p:case h:case g:case m:return Object(i.a)(Object(i.a)({},e),t.payload);case b:return Object(i.a)(Object(i.a)({},e),{},{users:u(e.users,t.userId,"id",{followed:t.isFollow}),friends:u(e.friends,t.userId,"id",{followed:t.isFollow})});case O:return Object(i.a)(Object(i.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(c.a)(e.followingInProgress),[t.userId]):[e.followingInProgress.filter((function(e){return e!==t.userId}))]});default:return e}}},29:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return g}));var r=n(7),a=n.n(r),s=n(13),c=n(5),i=n(36),o=n(14),u=n(12),l="auth/SET_USER_DATA",d="auth/GET_CAPTCHA_URL_SUCCESS",f={userId:null,email:null,login:null,isFetching:!1,isAuth:!1,captchaUrl:null},b=function(e,t,n,r){return{type:l,payload:{userId:e,email:t,login:n,isAuth:r}}},j=function(e){return{type:d,payload:{captchaUrl:e}}},p=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,s,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.me();case 3:0===(n=e.sent).data.resultCode&&(r=n.data.data,s=r.id,c=r.email,i=r.login,t(b(s,c,i,!0))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(Object(u.c)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},h=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(){var c=Object(s.a)(a.a.mark((function s(c){var l,d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.a.login(e,t,n,r);case 3:0===(l=a.sent).data.resultCode?c(p()):(10===l.data.resultCode&&c(O()),d=l.data.messages.length>0?l.data.messages[0]:"Some error",c(Object(i.a)("login",{_error:d}))),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),c(Object(u.c)(a.t0));case 10:case"end":return a.stop()}}),s,null,[[0,7]])})));return function(e){return c.apply(this,arguments)}}()},g=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.logout();case 3:0===e.sent.data.resultCode&&t(b(null,null,null,!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(Object(u.c)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},O=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.c.getCaptchaUrl();case 3:n=e.sent,r=n.data.url,t(j(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(Object(u.c)(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:case d:return Object(c.a)(Object(c.a)({},e),t.payload);default:return e}}},301:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(72),c=n.n(s),i=(n(177),function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,309)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))}),o=n(15),u=n(29),l=n(112),d=n(33),f=n(28),b=n(41),j=n(138),p=n(136),h=n(12),g=Object(o.c)({profilePage:d.b,dialogsPage:l.b,usersPage:f.a,auth:u.a,form:p.a,app:h.a,pagination:b.a}),O=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,m=Object(o.e)(g,O(Object(o.a)(j.a))),v=n(16),_=n(10),x=(n(257),n(141)),S=n.n(x),w=n(0),P=function(e){return Object(w.jsx)("div",{className:"".concat(S.a.news," ","block"),children:"News"})},E=n(142),F=n.n(E),N=function(e){return Object(w.jsx)("div",{className:"".concat(F.a.music," ","block"),children:"Music"})},y=n(143),k=n.n(y),C=function(e){return Object(w.jsx)("div",{className:"".concat(k.a.settings," ","block"),children:"Settings"})},I=n(25),U=n.n(I),T=n(53),A=n(62),L=n(124),M=function(e){var t=e.user;return Object(w.jsxs)("div",{className:"".concat(U.a.user," ","block"),children:[Object(w.jsxs)("div",{className:U.a.leftBlock,children:[Object(w.jsx)("div",{children:Object(w.jsx)(v.b,{to:"/profile/"+t.id,children:Object(w.jsx)("img",{className:U.a.avatar,src:null!=t.photos.small?t.photos.small:A.a,alt:"ava"})})}),Object(w.jsx)("div",{children:Object(w.jsx)(L.a,{user:t})})]}),Object(w.jsx)("div",{className:U.a.rightBlock,children:Object(w.jsxs)(v.b,{to:"/profile/"+t.id,children:[Object(w.jsx)("div",{className:U.a.name,children:t.name}),Object(w.jsx)("div",{className:U.a.status,children:t.status})]})})]},t.id)},B=n(49),G=n.n(B),R=function(e){var t=e.onShiftPagesLeft,n=e.onShiftPagesRight,r=e.onPageChanged,a=e.pages,s=e.currentPage,c=e.beginPage,i=e.endPage;return Object(w.jsxs)("div",{className:G.a.scrollPages,children:[Object(w.jsx)("button",{className:"".concat(G.a.numberPage),onClick:function(){t()},children:"< "}),a.map((function(e){return Object(w.jsxs)("span",{className:"".concat(s===e&&G.a.selectedPage," ").concat(G.a.numberPage),onClick:function(){r(e)},children:["  ",e]},e)})).slice(c,i),Object(w.jsx)("button",{className:"".concat(G.a.numberPage),onClick:function(){n()},children:" >"})]})},D=n(11),z=Object(D.b)((function(e){return{state:e.pagination}}),{setCurrentPage:b.b,shiftPages:b.d})((function(e){var t=e.nameOfElements,n=e.pageSize,a=e.requestFunction,s=e.setCurrentPage,c=e.shiftPages,i=e.state,o=e.isFetching,u=i[t],l=u.beginPage,d=u.endPage,f=u.totalCount,b=u.currentPage,j=Math.ceil(f/n);Object(r.useEffect)((function(){a(b,n)}),[b,n,a]);for(var p=function(e){s(t,e)},h=[],g=1;g<=j;g+=1)h.push(g);return Object(w.jsxs)("div",{children:[" ",!o&&Object(w.jsx)(R,{onShiftPagesLeft:function(){1!==b&&(p(b-1),0!==l&&c(t,l-1,d-1))},onShiftPagesRight:function(){b!==j&&(p(b+1),d<j&&c(t,l+1,d+1))},onPageChanged:p,pages:h,currentPage:b,beginPage:l,endPage:d})]})})),q=function(e){var t=e.users,n=e.friends,r=e.onAllUsers,a=e.onShowFriends,s=e.isFetching,c=e.isFriends,i=e.requestUsers,o=e.requestFriends,u=function(e){return e.map((function(e){return Object(w.jsx)(M,{user:e},e.id)}))};return Object(w.jsxs)("div",{className:"block",children:[c?Object(w.jsx)(z,{nameOfElements:"friends",pageSize:4,requestFunction:o,isFetching:s}):Object(w.jsx)(z,{nameOfElements:"users",pageSize:4,requestFunction:i,isFetching:s}),s?Object(w.jsx)(T.a,{}):Object(w.jsxs)("div",{children:[u(c?n:t),Object(w.jsx)("div",{className:U.a.friendButton,children:c?Object(w.jsx)("button",{className:U.a.allUsersButton,onClick:r,children:"All Users"}):Object(w.jsx)("button",{className:U.a.showFriends,onClick:a,children:"Show Friends"})})]})]})},H=function(e){return e.usersPage.users},K=function(e){return e.usersPage.friends},W=function(e){return e.usersPage.isFriends},Y=function(e){return e.usersPage.isFetching},X=Object(D.b)((function(e){return{users:H(e),friends:K(e),isFetching:Y(e),isFriends:W(e)}}),{requestUsers:f.d,requestFriends:f.b,toggleIsFriends:f.f})((function(e){var t=e.isFriends,n=e.users,r=e.friends,a=e.isFetching,s=e.requestUsers,c=e.requestFriends,i=e.toggleIsFriends;return Object(w.jsx)(q,{onAllUsers:function(){i(!1)},onShowFriends:function(){i(!0)},isFriends:t,users:n,friends:r,isFetching:a,requestUsers:s,requestFriends:c})})),J=n(77),Z=n.n(J),V=function(e){var t=e.isAuth,n=e.login,r=e.logout;return Object(w.jsxs)("header",{className:Z.a.header,children:[Object(w.jsx)("img",{src:"https://cdn2.iconfinder.com/data/icons/social-flat-buttons-3/512/tripit-512.png",alt:"logo"}),Object(w.jsx)("div",{className:Z.a.loginBlock,children:t?Object(w.jsxs)("div",{children:[n,Object(w.jsx)("button",{className:Z.a.logout,onClick:r,children:"Logout"})]}):Object(w.jsx)(v.b,{to:"/login",children:"Login"})})]})},Q=Object(D.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:u.d})(V),$=n(97),ee=n(135),te=n(70),ne=n(54),re=n(76),ae=n.n(re),se=n(78),ce=n.n(se),ie=Object(ee.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,r=e.captchaUrl;return Object(w.jsxs)("form",{className:ce.a.form,onSubmit:t,children:[Object(w.jsx)("div",{children:Object(w.jsx)($.a,{placeholder:"Email",name:"email",component:ne.b,validate:[te.b]})}),Object(w.jsx)("div",{children:Object(w.jsx)($.a,{placeholder:"Password",name:"password",component:ne.b,type:"password",validate:[te.b]})}),Object(w.jsxs)("div",{className:ae.a.checkbox,children:[Object(w.jsx)("div",{children:Object(w.jsx)($.a,{type:"checkbox",name:"rememberMe",component:ne.a})}),Object(w.jsx)("label",{htmlFor:"rememberMe",children:"remember me"})]}),r&&Object(w.jsx)("img",{src:r,alt:""}),r&&Object(w.jsx)($.a,{placeholder:"Symbols from image",name:"captcha",component:ne.b,validate:[te.b]}),n&&Object(w.jsx)("div",{children:Object(w.jsx)("div",{className:ae.a.formSummeryError,children:n})}),Object(w.jsx)("button",{className:ae.a.loginBtn,children:"Login"})]})})),oe=Object(D.b)((function(e){return{isAuth:e.auth.isAuth,userId:e.auth.userId,captchaUrl:e.auth.captchaUrl}}),{login:u.c,logout:u.d})((function(e){if(e.isAuth)return Object(w.jsx)(_.a,{to:"/profile/"+e.userId});return Object(w.jsxs)("div",{className:"block",children:[Object(w.jsxs)("div",{className:ce.a.form,children:[Object(w.jsx)("h1",{children:"Login"}),Object(w.jsx)(ie,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl})]}),Object(w.jsxs)("div",{className:ce.a.test,children:[Object(w.jsx)("h3",{children:"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u0430\u043a\u0430\u0443\u043d\u0442"}),Object(w.jsxs)("p",{children:["Email: ",Object(w.jsx)("strong",{children:"free@samuraijs.com"})]}),Object(w.jsxs)("p",{children:["Password: ",Object(w.jsx)("strong",{children:"free"})]})]})]})})),ue=n(18),le=n.n(ue),de=function(e){var t=e.userId,n=e.getUserProfile;return Object(w.jsx)("nav",{className:"".concat(le.a.nav," ","block"),children:Object(w.jsxs)("div",{className:le.a.links,children:[Object(w.jsx)("div",{className:le.a.item,children:Object(w.jsx)(v.b,{to:t?"/profile/".concat(t):"/login",onClick:function(){return n(t)},activeClassName:le.a.active,children:"My profile"})}),Object(w.jsx)("div",{className:le.a.item,children:Object(w.jsx)(v.b,{to:"/dialogs",activeClassName:le.a.active,children:"Messages"})}),Object(w.jsx)("div",{className:le.a.item,children:Object(w.jsx)(v.b,{to:"/news",activeClassName:le.a.active,children:"News"})}),Object(w.jsx)("div",{className:le.a.item,children:Object(w.jsx)(v.b,{to:"/music",activeClassName:le.a.active,children:"Music"})}),Object(w.jsx)("div",{className:le.a.item,children:Object(w.jsx)(v.b,{to:"/settings",activeClassName:le.a.active,children:"Settings"})}),Object(w.jsx)("div",{className:le.a.item,children:Object(w.jsx)(v.b,{to:"/users",activeClassName:le.a.active,children:"Users"})})]})})},fe=Object(D.b)((function(e){return{userId:e.auth.userId}}),{getUserProfile:d.d})(de),be=n(61),je=n.n(be),pe=function(e){var t=e.globalError,n=e.setGlobalError;return Object(w.jsxs)("div",{className:je.a.errorBlock,children:[Object(w.jsx)("div",{className:je.a.mainMessage,children:t.mainMessage}),Object(w.jsxs)("div",{className:je.a.errorMessage,children:["(",t.errorMessage,")"]}),Object(w.jsx)("button",{className:je.a.button,onClick:function(){n()},children:"\u041e\u043a"})]})},he=n(42),ge=n.n(he),Oe=function(e){var t=e.friends,n=e.getUserProfile,r=t.map((function(e){return Object(w.jsx)(v.b,{to:"/profile/".concat(e.id),onClick:function(){return n(e.id)},children:Object(w.jsxs)("div",{className:ge.a.sidebarFriend,children:[Object(w.jsx)("img",{className:ge.a.avatar,src:e.photos.small||A.a,alt:"ava"}),Object(w.jsx)("div",{className:ge.a.friendName,children:e.name})]})},e.id)}));return Object(w.jsxs)("div",{className:"".concat(ge.a.sidebar," ","block"," ").concat(0===t.length?ge.a.hidden:""),children:[Object(w.jsx)("div",{className:ge.a.heading,children:"Friends"}),r]})},me=Object(D.b)((function(e){return{sidebarFriends:e.usersPage.sidebarFriends,sidebarSize:e.usersPage.sidebarSize,isAuth:e.auth.isAuth}}),{requestSidebarFriends:f.c,getUserProfile:d.d})((function(e){var t=e.sidebarSize,n=e.sidebarFriends,a=e.getUserProfile,s=e.requestSidebarFriends,c=e.isAuth;return Object(r.useEffect)((function(){s(1,t)}),[n.length,s,t,c]),Object(w.jsx)(Oe,{friends:n,getUserProfile:a})})),ve=a.a.lazy((function(){return n.e(4).then(n.bind(null,310))})),_e=a.a.lazy((function(){return n.e(3).then(n.bind(null,311))})),xe=Object(D.b)((function(e){return{initialized:e.app.initialized,globalError:e.app.globalError,friends:e.usersPage.friends}}),{initializeApp:h.b,setGlobalError:h.c})((function(e){var t=e.initialized,n=e.globalError,a=e.initializeApp,s=e.setGlobalError;return Object(r.useEffect)((function(){var e=function(e){s("\u041d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430",e.reason)};return a(),window.addEventListener("unhandledrejection",e),window.removeEventListener("unhandledrejection",e)}),[a,s]),t?Object(w.jsxs)(v.a,{children:[Object(w.jsx)(Q,{}),Object(w.jsxs)("div",{className:"app-wrapper",children:[n.mainMessage&&Object(w.jsx)(pe,{globalError:n,setGlobalError:s}),Object(w.jsxs)("div",{children:[Object(w.jsx)(fe,{}),Object(w.jsx)(me,{})]}),Object(w.jsx)(r.Suspense,{fallback:Object(w.jsx)(T.a,{}),children:Object(w.jsxs)(_.d,{children:[Object(w.jsx)(_.a,{exact:!0,from:"/",to:"/profile"}),Object(w.jsx)(_.b,{path:"/dialogs",component:ve}),Object(w.jsx)(_.b,{path:"/profile/:userId?",component:_e}),Object(w.jsx)(_.b,{path:"/news",component:P}),Object(w.jsx)(_.b,{path:"/music",component:N}),Object(w.jsx)(_.b,{path:"/settings",component:C}),Object(w.jsx)(_.b,{path:"/users",component:X}),Object(w.jsx)(_.b,{path:"/login",component:oe}),Object(w.jsx)(_.b,{path:"*",render:function(){return Object(w.jsx)("div",{className:"block",children:"404 - PAGE NOT FOUND"})}})]})})]})]}):Object(w.jsx)(T.a,{})}));c.a.render(Object(w.jsx)(D.a,{store:m,children:Object(w.jsx)(xe,{})}),document.getElementById("root")),i()},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"f",(function(){return N})),n.d(t,"g",(function(){return y})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return C})),n.d(t,"c",(function(){return I})),n.d(t,"h",(function(){return U}));var r=n(40),a=n(7),s=n.n(a),c=n(13),i=n(30),o=n(5),u=n(36),l=n(14),d=n(12),f="profilePage/ADD-POST",b="profilePage/SET_USER_PROFILE",j="profilePage/SET_USER_STATUS",p="profilePage/TOGGLE_IS_FETCHING",h="profilePage/SAVE_PHOTO_SUCCESS",g="profilePage/TOGGLE_IS_FETCHING_STATUS",O="profilePage/TOGGLE_IS_FETCHING_PROFILE_INFO",m="profilePage/SET_USER_SUCCESS",v={posts:[],profile:null,user:{},isFetching:!1,isFetchingStatus:!1,isFetchingProfileInfo:!1,status:""},_=function(e,t,n,r){return{type:f,idUserPage:e,message:t,name:n,likesCount:r}},x=function(e){return{type:b,payload:{profile:e}}},S=function(e){return{type:j,payload:{status:e}}},w=function(e){return{type:p,payload:{isFetching:e}}},P=function(e){return{type:g,payload:{isFetchingStatus:e}}},E=function(e){return{type:O,payload:{isFetchingProfileInfo:e}}},F=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return function(a){a(_(e,t,n,r))}},N=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.b.savePhoto(e);case 3:0===(r=t.sent).data.resultCode&&n((a=r.data.data.photos,{type:h,photos:a})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n(Object(d.c)(t.t0));case 10:case"end":return t.stop()}var a}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n,a){var c,i,f;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(E(!0)),c=a().auth.userId,t.next=5,l.b.saveProfile(e);case 5:if(0!==(i=t.sent).data.resultCode){t.next=11;break}return t.next=9,n(k(c,!1));case 9:t.next=14;break;case 11:return f=i.data.messages.map((function(e){var t=e.match(/(?<=\()(.*?)(?=\))/)[0],n=t[0].toLowerCase()+t.slice(1),a=e.match(/(.*?)(?=\()/)[0];return Object(r.a)({},n,a)})).reduce((function(e,t){var n=Object.keys(t)[0];if(-1!==n.search("contacts")){var a=n.match(/(?<=>)(.*?)(?=$)/)[0],s=a[0].toLowerCase()+a.slice(1),c=Object.values(t)[0];return Object(o.a)(Object(o.a)({},e),{},{contacts:Object(o.a)(Object(o.a)({},e.contacts),{},Object(r.a)({},s,c))})}return Object.assign(e,t)}),{contacts:{}}),n(Object(u.a)("edit-profile",f)),t.abrupt("return",Promise.reject(i.data.messages[0]));case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),n(Object(d.c)(t.t0));case 19:n(E(!1));case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e,n){return t.apply(this,arguments)}}()},k=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){var n=Object(c.a)(s.a.mark((function n(r){var a,c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(w(t)),n.next=4,l.b.getStatus(e);case 4:return a=n.sent,r(S(a.data)),n.next=8,l.b.getProfile(e);case 8:return c=n.sent,r(x(c.data)),n.next=12,I(c.data.fullName)(r);case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),r(Object(d.c)(n.t0));case 17:r(w(!1));case 18:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e){return n.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.b.getStatus(e);case 3:r=t.sent,n(S(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n(Object(d.c)(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.d.findUser(e);case 2:r=t.sent,n((a=r.data.items[0],{type:m,payload:{user:a}}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},U=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(P(!0)),t.next=4,l.b.setStatus(e);case 4:0===t.sent.data.resultCode&&n(S(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(Object(d.c)(t.t0));case 11:n(P(!1));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(o.a)(Object(o.a)({},e),{},{posts:[{idUserPage:t.idUserPage,message:t.message,name:t.name,likesCount:t.likesCount,id:e.posts.length}].concat(Object(i.a)(e.posts))});case b:case j:case p:case g:case O:case m:return Object(o.a)(Object(o.a)({},e),t.payload);case h:return Object(o.a)(Object(o.a)({},e),{},{profile:Object(o.a)(Object(o.a)({},e.profile),{},{photos:t.photos})});default:return e}}},41:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d}));var r=n(40),a=n(5),s="pagination/SET_CURRENT_PAGE",c="pagination/SET_TOTAL_COUNT",i="pagination/SHIFT_PAGES",o={users:{beginPage:0,endPage:12,totalCount:0,currentPage:1},friends:{beginPage:0,endPage:12,totalCount:0,currentPage:1}},u=function(e,t){return{type:s,nameOfElements:e,payload:{currentPage:t}}},l=function(e,t){return{type:c,nameOfElements:e,payload:{totalCount:t}}},d=function(e,t,n){return{type:i,nameOfElements:e,payload:{beginPage:t,endPage:n}}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:case c:case i:return Object(a.a)(Object(a.a)({},e),{},Object(r.a)({},t.nameOfElements,Object(a.a)(Object(a.a)({},e[t.nameOfElements]),t.payload)));default:return e}}},42:function(e,t,n){e.exports={sidebar:"Sidebar_sidebar__37NVi",avatar:"Sidebar_avatar__niNtw",sidebarFriend:"Sidebar_sidebarFriend__2GBq2",friendName:"Sidebar_friendName__2ChZ2",heading:"Sidebar_heading__2-UmF",hidden:"Sidebar_hidden__1HBYl"}},48:function(e,t,n){e.exports={follow:"FollowUnfollowButton_follow__3lCoS",unfollow:"FollowUnfollowButton_unfollow__3bi9r",button:"FollowUnfollowButton_button__1dUTd",hidden:"FollowUnfollowButton_hidden__1pMuL"}},49:function(e,t,n){e.exports={scrollPages:"Pagination_scrollPages__2UahA",numberPage:"Pagination_numberPage__PLvK3",selectedPage:"Pagination_selectedPage__3FCs0"}},53:function(e,t,n){"use strict";var r=n(144),a=n.n(r),s=n(0);t.a=function(e){return Object(s.jsxs)("div",{className:a.a.lds_roller+" "+e.className,children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})}},54:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return m}));var r=n(5),a=n(147),s=(n(1),n(97)),c=n(145),i=n.n(c),o=n(100),u=n.n(o),l=n(146),d=n.n(l),f=n(0),b=["input","meta"],j=function(e,t){return function(n){var s=n.input,c=n.meta,i=c.touched,o=c.error,u=Object(a.a)(n,b),l=i&&o;return Object(f.jsxs)("div",{className:t.block,children:[Object(f.jsx)(e,Object(r.a)(Object(r.a)(Object(r.a)({},s),u),{},{className:t.field+" "+(l?t.errorField:"")})),l&&Object(f.jsx)("div",{className:t.error,children:o})]})}},p=j("textarea",i.a),h=j("input",u.a),g=j("input",d.a),O=j("input",u.a),m=function(e,t,n,a){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return Object(f.jsx)(s.a,Object(r.a)({placeholder:e,name:t,validate:n,component:a},c))}},61:function(e,t,n){e.exports={errorBlock:"ErrorMessage_errorBlock__3_pNj",button:"ErrorMessage_button__1KcLA",mainMessage:"ErrorMessage_mainMessage__1Fq-L",errorMessage:"ErrorMessage_errorMessage__2IH_k"}},62:function(e,t,n){"use strict";t.a=n.p+"static/media/1.e36dde25.png"},70:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){if(!e)return"Field is required"},a=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},76:function(e,t,n){e.exports={formControl:"FormsControls_formControl__2OAWu",error:"FormsControls_error__CJKw9",formSummeryError:"FormsControls_formSummeryError__3xO10",checkbox:"FormsControls_checkbox__beWy1",loginBtn:"FormsControls_loginBtn__1jXYH"}},77:function(e,t,n){e.exports={header:"Header_header__2jC4j",loginBlock:"Header_loginBlock__18G30",logout:"Header_logout__1gBgl"}},78:function(e,t,n){e.exports={form:"Login_form__1mEHP",test:"Login_test__sNFCp"}}},[[301,1,2]]]);
//# sourceMappingURL=main.2fceb5b3.chunk.js.map