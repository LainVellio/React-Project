(this["webpackJsonpreact-1"]=this["webpackJsonpreact-1"]||[]).push([[3],{301:function(e,t,s){e.exports={description_block:"ProfileInfo_description_block__MX-KF",avatar:"ProfileInfo_avatar__10tuR",status_preloader:"ProfileInfo_status_preloader__Gngmn",img_block:"ProfileInfo_img_block__3sDTt",photo_block:"ProfileInfo_photo_block__2Drz2",edit_profile:"ProfileInfo_edit_profile__2T2gd",button:"ProfileInfo_button__1uzmQ",load_photo_input:"ProfileInfo_load_photo_input__1NtIU",load_photo_block:"ProfileInfo_load_photo_block__1G2AU",description:"ProfileInfo_description__kAfsx",fullName:"ProfileInfo_fullName__3wIER",description_string:"ProfileInfo_description_string__2aCAe",label:"ProfileInfo_label__1XLtO",status:"ProfileInfo_status__3Qor8",value:"ProfileInfo_value__-YsCS",myPageValue:"ProfileInfo_myPageValue__1LNQy",pointer:"ProfileInfo_pointer__2zYFm",statusBlock:"ProfileInfo_statusBlock__3-ogS",input:"ProfileInfo_input__ErjSP",statusPreloader:"ProfileInfo_statusPreloader__F7u6l",follow:"ProfileInfo_follow__3QJ-x"}},303:function(e,t,s){e.exports={description_string:"DescriptionString_description_string__3biLw",label:"DescriptionString_label__2zQtV",display_none:"DescriptionString_display_none__3QGAK",input_field:"DescriptionString_input_field__245kA",string:"DescriptionString_string__2kFND"}},304:function(e,t,s){e.exports={form:"MyPosts_form__26aD-",posts:"MyPosts_posts__2gzhS",addPost:"MyPosts_addPost__HqCk2"}},305:function(e,t,s){e.exports={item:"Post_item__3uvmH",message:"Post_message__3GDoI",like:"Post_like__3au4h",likeCount:"Post_likeCount__1J2qP",name:"Post_name__2qhZM"}},306:function(e,t,s){e.exports={profile:"Profile_profile__12exf"}},307:function(e,t,s){e.exports={lds_ring:"MiniPreloader_lds_ring__3kQJN"}},310:function(e,t,s){"use strict";s.r(t);var a=s(1),i=s(13),c=s(51),n=s(29),l=s(96),o=s(134),r=s(69),j=s(52),u=s(304),b=s.n(u),d=s(305),f=s.n(d),_=s(0),h=function(e){var t=e.avatar,s=e.name,a=e.message,i=e.likesCount;return Object(_.jsxs)("div",{className:f.a.item,children:[Object(_.jsx)("img",{src:t,alt:"Avatar"}),Object(_.jsx)("span",{className:f.a.name,children:s}),Object(_.jsx)("div",{className:f.a.message,children:a}),Object(_.jsxs)("div",{className:f.a.like,children:[Object(_.jsxs)("span",{className:f.a.likeCount,children:[i," "]}),Object(_.jsx)("img",{src:"https://cdn4.iconfinder.com/data/icons/evil-icons-user-interface/64/like-256.png",alt:"like"})]})]})},p=s(61),O=function(e){var t=e.profilePage,s=e.addPost,a=e.auth,i=t,c=i.posts.map((function(e){return Object(_.jsx)(h,{name:e.name,message:e.message,likesCount:e.likesCount,avatar:p.a,idUserPage:e.idUserPage},e.id)})).filter((function(e){return e.props.idUserPage===i.profile.userId})),n=Object(r.a)(50),u=Object(o.a)({form:"newPost"})((function(e){return Object(_.jsxs)("form",{className:b.a.form,onSubmit:e.handleSubmit,children:[Object(_.jsx)(l.a,{name:"post",component:j.d,validate:[r.b,n]}),Object(_.jsx)("div",{children:Object(_.jsx)("button",{className:b.a.addPost,type:"submit",children:"Add post"})})]})}));return Object(_.jsxs)("div",{className:b.a.postBlock,children:[Object(_.jsx)("h3",{children:"My posts"}),Object(_.jsx)(u,{onSubmit:function(e){s(i.profile.userId,e.post,a.login)}}),Object(_.jsx)("div",{className:b.a.posts,children:c})]})},m=Object(i.b)((function(e){return{profilePage:e.profilePage,auth:e.auth}}),{addPost:n.a})(O),x=s(306),g=s.n(x),v=s(102),P=s(303),k=s.n(P),I=function(e){var t=e.label,s=e.value,a=e.link;return Object(_.jsxs)("div",{className:s?k.a.description_string:k.a.display_none,children:[Object(_.jsx)("span",{className:k.a.label,children:t}),a?Object(_.jsx)("a",{href:s,className:k.a.string,children:s}):Object(_.jsx)("span",{children:s})]})},N=s(301),S=s.n(N),F=function(e){var t=e.profile,s=e.setIsEditMode,a=e.authUserId,i=e.isFetchingProfileInfo;return Object(_.jsxs)("div",{children:[Object(_.jsx)(I,{label:"\u0424\u0418\u041e",value:t.fullName,link:!1}),Object(_.jsx)(I,{label:"\u041e \u0441\u0435\u0431\u0435",value:t.aboutMe,link:!1}),Object(_.jsx)(I,{label:"\u041e \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b",value:t.lookingForAJobDescription,link:!1}),Object(_.jsx)(I,{label:"Facebook",value:t.contacts.facebook,link:!0}),Object(_.jsx)(I,{label:"Website",value:t.contacts.website,link:!0}),Object(_.jsx)(I,{label:"\u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435",value:t.contacts.vk,link:!0}),Object(_.jsx)(I,{label:"Twitter",value:t.contacts.twitter,link:!0}),Object(_.jsx)(I,{label:"Instagram",value:t.contacts.instagram,link:!0}),Object(_.jsx)(I,{label:"YouTube",value:t.contacts.youtube,link:!0}),Object(_.jsx)(I,{label:"GitHub",value:t.contacts.github,link:!0}),Object(_.jsx)(I,{label:"MainLink",value:t.contacts.mainLink,link:!0}),a===t.userId&&Object(_.jsx)("div",{className:S.a.edit_profile,children:Object(_.jsx)("button",{className:S.a.button,onClick:function(){s(!0)},disabled:i,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]})},U=s(307),y=s.n(U),w=function(e){return Object(_.jsxs)("div",{className:y.a.lds_ring,children:[Object(_.jsx)("div",{}),Object(_.jsx)("div",{}),Object(_.jsx)("div",{}),Object(_.jsx)("div",{})]})},C=function(e){var t=e.status,s=e.authUserId,i=e.profileUserId,c=e.setUserStatus,n=e.isFetchingStatus,l=Object(a.useState)(!1),o=Object(v.a)(l,2),r=o[0],j=o[1],u=Object(a.useState)(t),b=Object(v.a)(u,2),d=b[0],f=b[1],h=s===i;return Object(a.useEffect)((function(){return f(t)}),[t]),Object(_.jsx)("div",{className:S.a.statusBlock,children:n?Object(_.jsx)(w,{}):h?r?Object(_.jsx)("input",{onChange:function(e){var t=e.currentTarget.value;f(t.slice(0,30))},className:S.a.input,autoFocus:!0,onBlur:function(){j(!1),c(d),f(t)},value:d}):Object(_.jsx)("div",{className:S.a.myPageValue+" "+S.a.pointer,onClick:function(){j(!0)},children:d||"\u0421\u0442\u0430\u0442\u0443\u0441 \u043e\u0442\u0441\u0443\u0442\u0441\u0432\u0443\u0435\u0442"}):Object(_.jsx)("div",{className:S.a.value,children:d||"\u0421\u0442\u0430\u0442\u0443\u0441 \u043e\u0442\u0441\u0443\u0442\u0441\u0432\u0443\u0435\u0442"})})},M=s(75),A=s.n(M),D=Object(o.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,s=e.error;return Object(_.jsxs)("form",{onSubmit:t,children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:k.a.label,children:"\u0424\u0418\u041e"}),Object(j.e)("","fullName",[],j.c)]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:k.a.label,children:"\u0412 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(j.e)("","lookingForAJob",[],j.c,{type:"checkbox"})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:k.a.label,children:"\u041d\u0430\u0432\u044b\u043a\u0438"}),Object(j.e)("","lookingForAJobDescription",[],j.c,{})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:k.a.label,children:"\u041e \u0441\u0435\u0431\u0435"}),Object(j.e)("","aboutMe",[r.b],j.c,{})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:k.a.label,children:"Facebook"}),Object(j.e)("","contacts.facebook",[],j.c,{})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:k.a.label,children:"Website"}),Object(j.e)("","contacts.website",[],j.c,{})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:k.a.label,children:"\u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435"}),Object(j.e)("","contacts.vk",[],j.c,{})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:k.a.label,children:"Twitter"}),Object(j.e)("","contacts.twitter",[],j.c,{})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:k.a.label,children:"Instagram"}),Object(j.e)("","contacts.instagram",[],j.c,{})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:k.a.label,children:"YouTube"}),Object(j.e)("","contacts.youtube",[],j.c,{})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:k.a.label,children:"GitHub"}),Object(j.e)("","contacts.gitHub",[],j.c,{})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:k.a.label,children:"MainLink"}),Object(j.e)("","contacts.mainLink",[],j.c,{})]}),Object(_.jsx)("button",{className:S.a.button,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),s&&Object(_.jsx)("div",{className:A.a.formSummeryError,children:s})]})})),J=s(123),E=function(e){var t=e.profile,s=e.savePhoto,i=e.authUserId,n=e.status,l=e.setUserStatus,o=e.saveProfile,r=e.isFetchingStatus,j=e.isFetchingProfileInfo,u=e.user,b=Object(a.useState)(!1),d=Object(v.a)(b,2),f=d[0],h=d[1];if(!t)return Object(_.jsx)(c.a,{});return Object(_.jsx)("div",{className:S.a.profile_content,children:Object(_.jsxs)("div",{className:S.a.description_block,children:[Object(_.jsxs)("div",{className:S.a.photo_block,children:[Object(_.jsx)("img",{className:S.a.avatar,src:t.photos.large||p.a,alt:"ava"}),i===t.userId?Object(_.jsxs)("div",{className:S.a.load_photo_block,children:[Object(_.jsx)("label",{className:S.a.button,htmlFor:"photo",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0443"}),Object(_.jsx)("input",{onChange:function(e){e.target.files.length&&s(e.target.files[0])},className:S.a.load_photo_input,type:"file",id:"photo"})]}):Object(_.jsxs)("div",{className:S.a.follow,children:[Object(_.jsx)(J.a,{user:u})," "]})]}),Object(_.jsxs)("div",{className:S.a.description,children:[Object(_.jsx)("div",{className:S.a.fullName,children:t.fullName}),Object(_.jsx)(C,{profileUserId:t.userId,status:n,setUserStatus:l,authUserId:i,isFetchingStatus:r}),f?Object(_.jsx)(D,{initialValues:t,onSubmit:function(e){o(e).then((function(){h(!1)}))}}):Object(_.jsx)(F,{profile:t,setIsEditMode:h,authUserId:i,isFetchingProfileInfo:j})]})]})})},L=function(e){var t=e.profile,s=e.savePhoto,a=e.authUserId,i=e.status,n=e.saveProfile,l=e.setUserStatus,o=e.isFetchingStatus,r=e.isFetching,j=e.isFetchingProfileInfo,u=e.user;return Object(_.jsx)("div",{className:"".concat(g.a.profile," ","block"),children:r?Object(_.jsx)(c.a,{}):Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{children:Object(_.jsx)(E,{profile:t,savePhoto:s,authUserId:a,status:i,saveProfile:n,setUserStatus:l,isFetchingStatus:o,isFetchingProfileInfo:j,user:u})}),Object(_.jsx)(m,{})]})})},Q=s(11),T=s(15);t.default=Object(T.d)(Object(i.b)((function(e){return{profile:e.profilePage.profile,isFetching:e.profilePage.isFetching,status:e.profilePage.status,isFetchingStatus:e.profilePage.isFetchingStatus,isFetchingProfileInfo:e.profilePage.isFetchingProfileInfo,user:e.profilePage.user,authUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{setUserStatus:n.h,getUserProfile:n.d,getUserStatus:n.e,savePhoto:n.f,saveProfile:n.g}),Q.g)((function(e){var t=e.authorizedUserId,s=e.profile,i=e.authUserId,c=e.status,n=e.setUserStatus,l=e.savePhoto,o=e.match,r=e.getUserProfile,j=e.saveProfile,u=e.isFetchingStatus,b=e.isFetching,d=e.history,f=e.isFetchingProfileInfo,h=e.user;return Object(a.useEffect)((function(){var e=o.params.userId;e||(e=t)||d.push("/login"),r(e)}),[t,r,d,o.params.userId]),Object(_.jsx)(L,{profile:s,savePhoto:l,authUserId:i,status:c,setUserStatus:n,saveProfile:j,isFetchingStatus:u,isFetching:b,isFetchingProfileInfo:f,user:h})}))}}]);
//# sourceMappingURL=3.af181061.chunk.js.map